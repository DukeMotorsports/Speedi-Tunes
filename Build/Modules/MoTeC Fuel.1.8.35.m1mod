<?xml version="1.0"?>
<MoTecM1BuildModuleSet Locale="English_Australia.1252" DefaultLocale="C" FileFormat="10103" Name="MoTeC Fuel" VersionMajor="1" VersionMinor="8" BuildNumber="35">
 <System VersionMajor="1" VersionMinor="3" VersionRelease="16" VersionBuild="0034"/>
 <BuildHelp>
<![CDATA[<H4>Current Version</H4>
<UL>
<LI>Update&nbsp;classes for system &gt;= 1.3.16.0031 
<LI>closed loop classes: 
<UL>
<LI>Add <EM>Reset</EM> 
<LI>Support NAN feedback value 
<LI>rename <EM>Activate Engine Efficiency </EM>to <EM>Activate Inlet Manifold Pressure</EM></LI></UL>
<LI>Delete experimental, unused, fuel film calculations. Will be replaced in module version 1.09
<LI>Revert some intermediate changes for improved compatibility with previous public release 1.08.0008</LI></UL>
<H4>01.08.0008</H4>
<UL>
<LI>Add <EM>Injector Minimum Volume </EM>to all injector classes 
<LI>Update class property names to match the object names 
<LI>Rename <EM>Injector ECU Supply </EM>to <EM>Injector Battery Voltage</EM> 
<LI>Update help for Single Port Injector to include some integration information</LI></UL>
<H4>01.08.0006</H4>
<UL>
<LI>Update modules for system 1.3.16.0028 
<LI>Update Direct plus Port Injector 
<UL>
<LI>Expose direct injector <EM>Output Polarity </EM>property for external injector drivers</LI></UL></LI></UL>
<H4>01.08.0005</H4>
<UL>
<LI>Update Single Port Injector 
<UL>
<LI>Add makeup pulse 
<LI>Add fuel film enable() method</LI></UL></LI></UL>
<H4>01.08.0002</H4>
<UL>
<LI>Update modules for system 1.3.16.0024 
<LI>Transient Fuel: change derivative filter from a smoothing coefficient to a time constant</LI></UL>
<H4>01.08.0001</H4>
<UL>
<LI>change closed loop trim limits to value inputs</LI></UL>
<H4>01.08.0000</H4>
<UL>
<LI>Update modules for system 1.3.16.0018 
<LI>Add Multipulse Direct Injector module 
<LI>Fix non-zero Pulse Width when Pulse Volume and Minimum Volume are both&nbsp;0</LI></UL>]]>
 </BuildHelp>
 <RequiredModules>
  <File Name="MoTeC Types" VersionMajor="1" VersionMinor="3" VersionBuild="8"/>
 </RequiredModules>
 <DataTypes>
  <Type Name="Fuel Transient State Enumeration" Storage="enum" Default="Disabled">
   <Help>
<![CDATA[<BODY class="package_help"/>]]>
   </Help>
   <Enum Name="Off" ContainerOrder="1">
    <Help>
<![CDATA[<BODY class="package_help"/>]]>
    </Help>
   </Enum>
   <Enum Name="Positive Fuel" ContainerOrder="2" Tags="Information">
    <Help>
<![CDATA[<BODY class="package_help"/>]]>
    </Help>
   </Enum>
   <Enum Name="Negative Fuel" ContainerOrder="3" Tags="Information">
    <Help>
<![CDATA[<BODY class="package_help"/>]]>
    </Help>
   </Enum>
   <Enum Name="Disabled" ContainerOrder="0">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
  </Type>
  <Type Name="Fuel Closed Loop State Enumeration" Storage="enum" Default="Disabled">
   <Enum Name="Fault" ContainerOrder="0" Tags="Fault">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
   <Enum Name="Disabled" ContainerOrder="1">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
   <Enum Name="Shutdown" ContainerOrder="2">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
   <Enum Name="Wait" ContainerOrder="3">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
   <Enum Name="Sample" ContainerOrder="4">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
  </Type>
  <Type Name="Fuel Closed Loop Diagnostic Enumeration" Storage="enum" Default="Sensor Unavailable">
   <Enum Name="OK" ContainerOrder="2">
    <Help>
<![CDATA[<p class="package_help">Normal operation</p>]]>
    </Help>
   </Enum>
   <Enum Name="Single Sensor" ContainerOrder="3" Tags="Information">
    <Help>
<![CDATA[<p class="package_help">One of the lambda sensors is either unavailable or has been diagnosed as faulty.</p>]]>
    </Help>
   </Enum>
   <Enum Name="Sensor Unavailable" ContainerOrder="1">
    <Help>
<![CDATA[<p class="package_help">No lambda sensors are available.</p>]]>
    </Help>
   </Enum>
   <Enum Name="Control Failure" ContainerOrder="0" Tags="Fault">
    <Help>
<![CDATA[<p class="package_help">Control has terminated as the sensor(s) have been diagnosed as faulty.</p>]]>
    </Help>
   </Enum>
  </Type>
  <Type Name="Fuel Closed Loop Enable Enumeration" Storage="enum" Default="Disabled">
   <Enum Name="Disabled" ContainerOrder="0">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
   <Enum Name="Transient" ContainerOrder="2" Tags="Information">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
   <Enum Name="Enabled" ContainerOrder="1" Tags="Information">
    <Help>
<![CDATA[]]>
    </Help>
   </Enum>
  </Type>
  <Type Name="Fuel Closed Loop Controller State Enumeration" Storage="enum" Default="OK">
   <Enum Name="OK" ContainerOrder="0">
    <Help>
<![CDATA[<p class="package_help">Normal operation</p>]]>
    </Help>
   </Enum>
   <Enum Name="Slave" ContainerOrder="1" Tags="Information">
    <Help>
<![CDATA[<p class="package_help">The lambda sensor is unavailable so the trim from the other bank is in use.</p>]]>
    </Help>
   </Enum>
  </Type>
  <Type Name="Fuel Closed Loop Controller Diagnostic Enumeration" Storage="enum" Default="OK">
   <Enum Name="OK" ContainerOrder="0">
    <Help>
<![CDATA[<p class="package_help">Normal operation</p>]]>
    </Help>
   </Enum>
   <Enum Name="Trim Limit" ContainerOrder="1" Tags="Warning">
    <Help>
<![CDATA[<p class="package_help">Closed loop control has reached the trim limit. A <i class="package_help">Sensor Fault</i> will be detected if <i class="package_help">Trim Limit
              </i> is active for <i class="package_help">Diagnostic Delay</i>.</p>]]>
    </Help>
   </Enum>
   <Enum Name="Sensor Fault" ContainerOrder="2" Tags="Fault">
    <Help>
<![CDATA[<p class="package_help">The control was at the Trim Limit for more than <i class="package_help">Diagnostic Delay</i>. This indicates a possible
              lambda sensor fault and control has been disabled for safety.</p>]]>
    </Help>
   </Enum>
  </Type>
 </DataTypes>
 <Modules>
  <ModuleStream>
   <List>
    <ModuleGroup Name="Fuel"/>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Transient Fuel">
     <BuildHelp>
<![CDATA[<P>Transient fuel control class.</P>
<P>This is similar to an accelerator pump and can be adjusted to compensate for both errors in load due to sensor lag and changes in the inlet fuel film.</P>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.Reference" Name="Base.Mode">
        <Props Type="MoTeC Types.Mode Enumeration" TargetCreation="AutoConst" Target="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">Disable or enable the transient fuel calculation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="-1.000000e-007" ValMax="1.000000e-007">
         <Locale>
          <Default Unit="ul" Min="-1.000000e-007" Max="1.000000e-007"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Change in pulse volume to compensate for the transient.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.State">
        <Props Type="::This.Fuel Transient State Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Current status of transient fuel delivery.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Derivative">
        <Props UseDefValue="true" DefValue="This.Value">
         <List.UserTags>
          <Entry Value="Primary"/>
         </List.UserTags>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Calculations and settings related to the transient rate of change.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Derivative.Value">
        <Props Qty="ratio/s">
         <Locale>
          <Default Unit="%/s" DPS="0" Min="-1.00000000000000000e+000" Max="1.00000000000000000e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The derivative or rate of change of Throttle Position.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Derivative.Source Filtered">
        <Props Qty="ratio">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="%" Min="0.00000000000000000e+000" Max="1.00000000000000000e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The filtered value of the source input (normally Throttle Position).</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Derivative.Filter">
        <Props Qty="s" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="ms" DPS="0"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Filter time constant for transient derivative filter.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Positive">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">Settings and calculations related to an increase in throttle position.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Positive.Threshold">
        <Props Qty="ratio/s" Validation="MinMax" ValMin="0.0" ValMax="1.0">
         <Locale>
          <Default Unit="%/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Transient correction will be applied when <i class="package_help">Derivative</i> is above this value.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Positive.Clamp">
        <Props NumAxes="2">
         <Axis>
          <X MaxSites="21"/>
          <Y MaxSites="21"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The total fuel correction is limited to the value of this table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Positive.Clamp.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="0.000" ValMax="5.000000e-007">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul" Min="0.000000e+000" Max="2.000000e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Positive.Clamp.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Positive.Clamp.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Positive.Decay">
        <Props>
         <Axis>
          <X Source="$(Parent.Clamp:Axis.X.Source)" MaxSites="$(Parent.Clamp:Axis.X.MaxSites)"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The additional fuel is reduced at this rate.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Positive.Decay.Value">
        <Props Qty="m3/s" Validation="MinMax" ValMin="1.000000e-010" ValClampMax="false">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul/s" Min="0.000000e+000" Max="1.000000e-006"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Positive.Decay.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Positive.Decay.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Positive.Sensitivity">
        <Props NumAxes="$(Parent.Clamp:NumAxes)">
         <Axis>
          <X Source="$(Parent.Clamp:Axis.X.Source)" MaxSites="$(Parent.Clamp:Axis.X.MaxSites)"/>
          <Y Source="$(Parent.Clamp:Axis.Y.Source)" MaxSites="$(Parent.Clamp:Axis.Y.MaxSites)"/>
          <Z Source="$(Parent.Clamp:Axis.Z.Source)" MaxSites="$(Parent.Clamp:Axis.Z.MaxSites)"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table value is multiplied by (<i class="package_help">Derivative</i> - <i class="package_help">Threshold</i>) to determine the
                    additional injection volume.</p>
                  <p class="package_help">Volume = Derivative * Sensitivity</p>
                  <p class="package_help">Sensitivity of 10ul will add 10ul of fuel when <i class="package_help">Derivative</i> is 100%/sec above the threshold.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Positive.Sensitivity.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="0.000000e+000" ValClampMax="false">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul" Min="0.000000e+000" Max="1.000000e-006"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Positive.Sensitivity.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Positive.Sensitivity.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Positive.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="0.000" ValMax="1.000000e-007">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul" Min="0.000000e+000" Max="1.000000e-007"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The transient fuel correction due to increase in throttle position.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Negative">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">Settings and calculations related to an reduction in throttle position.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Negative.Clamp">
        <Props NumAxes="$(Parent.Parent.Positive.Clamp:NumAxes)">
         <Axis>
          <X Source="$(Parent.Parent.Positive.Clamp:Axis.X.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.X.MaxSites)"/>
          <Y Source="$(Parent.Parent.Positive.Clamp:Axis.Y.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.Y.MaxSites)"/>
          <Z Source="$(Parent.Parent.Positive.Clamp:Axis.Z.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.Z.MaxSites)"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The total fuel correction is limited to the value of this table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Negative.Clamp.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="-5.000000e-007" ValMax="0.000000e+000">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul" Min="-2.000000e-007" Max="0.000000e+000"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Negative.Clamp.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Negative.Clamp.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Negative.Decay">
        <Props>
         <Axis>
          <X Source="$(Parent.Parent.Positive.Clamp:Axis.X.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.X.MaxSites)"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The reduction in fuel is decayed at this rate.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Negative.Decay.Value">
        <Props Qty="m3/s" Validation="MinMax" ValMin="1.000000e-010" ValClampMax="false">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul/s" Min="0.000000e+000" Max="1.000000e-006"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <PropVisibility>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Mode Input Component" Creation="Custom" Visible="1" TargetCpt="This.Mode" TargetRef="Target" DisplayName="Mode Input Component"/>
         <Property Name="Mode Input Source" Creation="Custom" Visible="1" TargetCpt="This.Mode" TargetRef="TargetCreation" DisplayName="Mode Input Source"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="Source Input Component" Creation="Custom" Visible="1" TargetCpt="This.Source" TargetRef="Target" DisplayName="Source Input Component"/>
         <Property Name="Table Dimensions" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="NumAxes" DisplayName="Table Dimensions"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="0"/>
         <Property Name="X Axis Input Component" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="Axis.X.Source" DisplayName="X Axis Input Component"/>
         <Property Name="X Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="Axis.X.MaxSites" DisplayName="X Axis Max Sites"/>
         <Property Name="Y Axis Input Component" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="Axis.Y.Source" DisplayName="Y Axis Input Component"/>
         <Property Name="Y Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="Axis.Y.MaxSites" DisplayName="Y Axis Max Sites"/>
         <Property Name="Z Axis Input Component" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="Axis.Z.Source" DisplayName="Z Axis Input Component"/>
         <Property Name="Z Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Positive.Clamp" TargetRef="Axis.Z.MaxSites" DisplayName="Z Axis Max Sites"/>
        </PropVisibility>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Negative.Decay.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Negative.Sensitivity">
        <Props NumAxes="$(Parent.Parent.Positive.Clamp:NumAxes)">
         <Axis>
          <X Source="$(Parent.Parent.Positive.Clamp:Axis.X.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.X.MaxSites)"/>
          <Y Source="$(Parent.Parent.Positive.Clamp:Axis.Y.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.Y.MaxSites)"/>
          <Z Source="$(Parent.Parent.Positive.Clamp:Axis.Z.Source)" MaxSites="$(Parent.Parent.Positive.Clamp:Axis.Z.MaxSites)"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table value is multiplied by (<i class="package_help">Derivative</i> - <i class="package_help">Threshold</i>) to determine the
                    reduction in injection volume.</p>
                  <p class="package_help">Volume = Derivative * Sensitivity</p>
                  <p class="package_help">Sensitivity of 10ul will remove 10ul of fuel when <i class="package_help">Derivative</i> is 100%/sec below the
                    threshold</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Negative.Sensitivity.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="0.000000e+000" ValClampMax="false">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul" Min="0.000000e+000" Max="1.000000e-006"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Negative.Sensitivity.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Negative.Sensitivity.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Negative.Decay.Init"/>
       <Component Classname="BuiltIn.Parameter" Name="Base.Negative.Threshold">
        <Props Qty="ratio/s" Validation="MinMax" ValMin="-1.0" ValMax="0.0">
         <Locale>
          <Default Unit="%/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Transient correction will be applied when <i class="package_help">Derivative</i> is below this value.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Source">
        <Props Qty="ratio" Validation="MinMax" ValMin="0.000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="%"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Used to derive a measurement of the transient. Typically based on throttle position.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Negative.Value">
        <Props Qty="m3" Validation="MinMax" ValMin="-1.000000e-007" ValMax="0.000000e+000">
         <List.UserTags>
          <Entry Value="Advanced"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ul" Min="-1.000000e-007" Max="0.000000e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The transient fuel correction due to reduction in throttle position.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Mode.Value">
        <Props Value="Enabled"/>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Derivative.Calculation">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[U291cmNlIEZpbHRlcmVkID0gTGlicmFyeS5GaWx0ZXIuRmlyc3RPcmRlcihTb3VyY2UsIHRoaXMuRmlsdGVyKTsgClRoaXMuVmFsdWUgPSBMaWJyYXJ5LkRlcml2YXRpdmUuRmlsdGVyZWQoU291cmNlIEZpbHRlcmVkKTsK]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[bG9jYWwgZWxhcHNlZHRpbWUgPSBTeXN0ZW0uRWxhcHNlZFRpbWUoKTsKCndoZW4gKE1vZGUpCnsKCWlzIChFbmFibGVkKQoJewoJCS8qCgkJICogRGVjYXkgcHJldmlvdXMgdHJhbnNpZW50IGZ1ZWxpbmcgcHJpb3IgdG8gdXNlIGluIG5ldyBjYWxjdWxhdGlvbnMKCQkgKiBOT1RFOiBjbGFtcHMgYXJlIG5vdCBhcHBsaWVkIGhlcmUgLSB0aGlzIGlzIGRvbmUgaW4gdGhlIGZpbmFsIHN0YWdlCgkJICogd2hlbiBhc3NpZ25pbmcgYmFjayB0byB0aGUgY2hhbm5lbAoJCSAqLwoJCWxvY2FsIFBvcyA9IFBvc2l0aXZlIC0gUG9zaXRpdmUuRGVjYXkgKiBlbGFwc2VkdGltZTsKCQlsb2NhbCBOZWcgPSBOZWdhdGl2ZSArIE5lZ2F0aXZlLkRlY2F5ICogZWxhcHNlZHRpbWU7CgoJCS8qIFVwZGF0ZSBpZiB0cmFuc2llbnQgZXhjZWVkcyBwcmlvciB2YWx1ZSAqLwoJCWlmIChCYXNlLkRlcml2YXRpdmUgPiBQb3NpdGl2ZS5UaHJlc2hvbGQpCgkJewoJCQlsb2NhbCBkID0gQmFzZS5EZXJpdmF0aXZlIC0gUG9zaXRpdmUuVGhyZXNob2xkOwoJCQlQb3MgPSBDYWxjdWxhdGUuTWF4KFBvcywgZCAqIFBvc2l0aXZlLlNlbnNpdGl2aXR5KTsKCQl9CgkJZWxzZSBpZiAoQmFzZS5EZXJpdmF0aXZlIDwgTmVnYXRpdmUuVGhyZXNob2xkKQoJCXsKCQkJbG9jYWwgZCA9IEJhc2UuRGVyaXZhdGl2ZSAtIE5lZ2F0aXZlLlRocmVzaG9sZDsKCQkJTmVnID0gQ2FsY3VsYXRlLk1pbihOZWcsIGQgKiBOZWdhdGl2ZS5TZW5zaXRpdml0eSk7CgkJfQoKCQkvKiBBcHBseSBhcHByb3ByaWF0ZSBjbGFtcHMuIE1heSBldmVuIGxpbWl0IGEgcHJldmlvdXNseSBjYWxjdWxhdGVkIHZhbHVlICovCgkJUG9zID0gTGltaXQuTWF4KFBvcywgUG9zaXRpdmUuQ2xhbXApOwoJCU5lZyA9IExpbWl0Lk1pbihOZWcsIE5lZ2F0aXZlLkNsYW1wKTsKCQkvKiBzcGxpdCB0aGUgdGFibGUgY2xhbXAgZnJvbSAwIGNsYW1wIHRvIGNvcGUgd2l0aCBpbnZhbGlkIHRhYmxlIGRhdGEgZnJvbSB0dW5lICovCgkJUG9zaXRpdmUgPSBMaW1pdC5NaW4oUG9zLCAwLjApOwoJCU5lZ2F0aXZlID0gTGltaXQuTWF4KE5lZywgMC4wKTsKCQlWYWx1ZSA9IFBvc2l0aXZlICsgTmVnYXRpdmU7CgoJCWlmIChWYWx1ZSA+IDAuMCkKCQl7CgkJCVN0YXRlID0gU3RhdGUuUG9zaXRpdmUgRnVlbDsKCQl9CgkJZWxzZSBpZiAoVmFsdWUgPCAwLjApCgkJewoJCQlTdGF0ZSA9IFN0YXRlLk5lZ2F0aXZlIEZ1ZWw7CgkJfQoJCWVsc2UKCQl7CgkJCVN0YXRlID0gU3RhdGUuT2ZmOwoJCX0KCX0KCWlzIChEaXNhYmxlZCkKCXsKCQlTdGF0ZSA9IFN0YXRlLkRpc2FibGVkOwoJCVBvc2l0aXZlID0gMC4wOwoJCU5lZ2F0aXZlID0gMC4wOwoJCVZhbHVlID0gMC4wOwoJfQp9Cg==]]>
        </Code>
       </Component>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Value"/>
        <Component Name="State"/>
        <Component Name="Source"/>
        <Component Name="Mode">
         <Component Name="Value"/>
        </Component>
        <Component Name="Derivative">
         <Component Name="Value"/>
         <Component Name="Source Filtered"/>
         <Component Name="Filter"/>
         <Component Name="Calculation"/>
        </Component>
        <Component Name="Positive">
         <Component Name="Value"/>
         <Component Name="Clamp">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Decay">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Sensitivity">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Threshold"/>
        </Component>
        <Component Name="Negative">
         <Component Name="Value"/>
         <Component Name="Clamp">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Decay">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Sensitivity">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Threshold"/>
        </Component>
        <Component Name="Calculation"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Single Closed Loop Fuel">
     <BuildHelp>
<![CDATA[Single bank closed loop control.]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="Aim Component" Creation="Custom" Visible="1" TargetCpt="This.Aim" TargetRef="Target" DisplayName="Aim Component"/>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Control Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Control.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Control Diagnostic Diagnostic Log Rate"/>
         <Property Name="Control Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Control.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Control Diagnostic Logging"/>
         <Property Name="Control Trim Value Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Control.Trim.Value" TargetRef="DiagnosticLogRate" DisplayName="Control Trim Value Diagnostic Log Rate"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Diagnostic Diagnostic Log Rate"/>
         <Property Name="Feedback Component" Creation="Custom" Visible="1" TargetCpt="This.Control.Feedback.Value" TargetRef="Target" DisplayName="Feedback Component"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="System Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Diagnostic" TargetRef="DiagnosticLog" DisplayName="System Diagnostic Logging"/>
         <Property Name="Table Dimensions" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="NumAxes" DisplayName="Table Dimensions"/>
         <Property Name="Trim Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Control.Trim.Value" TargetRef="DiagnosticLog" DisplayName="Trim Diagnostic Logging"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="0"/>
         <Property Name="X Axis Component" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.X.Source" DisplayName="X Axis Component"/>
         <Property Name="X Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.X.MaxSites" DisplayName="X Axis Max Sites"/>
         <Property Name="Y Axis Component" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Y.Source" DisplayName="Y Axis Component"/>
         <Property Name="Y Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Y.MaxSites" DisplayName="Y Axis Max Sites"/>
         <Property Name="Z Axis Component" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Z.Source" DisplayName="Z Axis Component"/>
         <Property Name="Z Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Z.MaxSites" DisplayName="Z Axis Max Sites"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Coolant Temperature Threshold" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Coolant Temperature" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Engine Speed" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Activate.Engine Speed" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Reset" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Inlet Manifold Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Activate.Inlet Manifold Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.State">
        <Props Type="::This.Fuel Closed Loop State Enumeration"/>
        <Comment>
<![CDATA[<P class=package_help>Status of the closed loop fuel system.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Diagnostic">
        <Props Type="::This.Fuel Closed Loop Diagnostic Enumeration">
         <List.UserTags>
          <Entry Value="Logging"/>
         </List.UserTags>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Diagnostic information for the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Period">
        <Comment>
<![CDATA[<p class="package_help">Control period for the closed loop fuel system.</p>
                  <p class="package_help">This is the time between closed loop control trim updates, and normally represents the time
                    period from the fuel injection pulse to the measured lambda changing from the exhaust gas passing
                    the sensor. For example if a 10% fuel trim was applied this is the time from the trim change to
                    the lambda sensor changing by at least -0.08la.</p>
                  <p class="package_help">This value may be less than the time for the sensor to reach the final value, however when <i class="package_help">
                    Period</i> is reduced the <i class="package_help">Control Trim Gain</i> must also be reduced to prevent closed loop
                    control from becoming unstable.</p>
                  <p class="package_help"><i class="package_help">Period</i> is related to the exhaust system volume and the exhaust mass flow.</p>
                  <p class="package_help">Start with 2sec at low flow (idle), reducing to 0.5sec at peak flow (peak power).</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Period.Value">
        <Props Qty="s" Validation="MinMax" ValMin="1.000000e-003" ValMax="5.000000e+000">
         <Locale>
          <Default Unit="ms" DPS="0"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Period.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Period.Update">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Fault Delay">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="6.000000e+001"/>
        <Comment>
<![CDATA[<p class="package_help">Time before a <i class="package_help">Trim Limit</i> diagnostic becomes a <i class="package_help">Sensor Limit</i> fault.</p>
                  <p class="package_help">This can be caused by a faulty sensor.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Feedback">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Feedback.Value">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda feedback value.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Timer" Name="Base.Timer"/>
       <Component Classname="BuiltIn.FuncGenerated.Timer.Set" Caps="AutoCreated" Name="Base.Timer.Start">
        <Signature Name="" ReturnType="">
         <Params>
          <Param Name="Timeout" Type="f32" Attrs="0"/>
         </Params>
        </Signature>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Timer.Remaining" Caps="AutoCreated" Name="Base.Timer.Remaining">
        <Signature Name="" ReturnType="f32">
         <Params/>
        </Signature>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.State">
        <Props Type="::This.Fuel Closed Loop Controller State Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Status of the control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Diagnostic">
        <Props Type="::This.Fuel Closed Loop Controller Diagnostic Enumeration">
         <List.UserTags>
          <Entry Value="Logging"/>
         </List.UserTags>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Diagnostic status of the control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Trim.Average.Value">
        <Props Qty="ratio">
         <Locale>
          <Default Unit="%Trim" Min="9.00000000000000020e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Average trim of the control system.</p>
                  <p class="package_help">The control trim is set to this value when recovering from transient conditions.</p>
                  <p class="package_help">NOTE: <i class="package_help">Trim Average</i> is set to 0.0% trim when M1 Tune is connected.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Trim.Average">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">Settings and values related to the average (long term) fuel trim applied by closed loop control.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Average.Decay">
        <Props Qty="ratio/s" Validation="MinMax" ValMin="1.000000e-004" ValMax="1.000000e+000">
         <Locale>
          <Default Unit="%/s" DPS="2"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Rate at which <i class="package_help">Trim Average</i> decays on shutdown.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Gain">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="1.000000e+000">
         <Locale>
          <Default Unit="%"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Gain for <i class="package_help">Trim</i> adjustment.</p>
                  <p class="package_help">When gain is 100% the lambda error is corrected in a single update.</p>
                  <p class="package_help">Start with 80%.</p>
                  <p class="package_help">The effect of this gain is also influenced by <i class="package_help">Period</i>. If closed loop control is responding
                    too slowly check that <i class="package_help">Period</i> is set correctly.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Trim.Value">
        <Props Qty="ratio">
         <Locale>
          <Default Unit="%Trim" Min="9.00000000000000020e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Trim output of the control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Trim">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">Settings and values related to the amount of fuel trim applied by closed loop control.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Average.Gain">
        <Props Qty="ratio" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.000000e-001">
         <Locale>
          <Default Unit="%"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Gain for <i class="package_help">Trim Average</i> adjustment.</p>
                  <p class="package_help">This gain should be low to ensure that <i class="package_help">Trim.Average</i> tracks long term errors such as
                    changes in ambient pressure or fuel temperature.</p>
                  <p class="package_help">If the gain is 10% <i class="package_help">Trim.Average</i> will step towards <i class="package_help">Trim</i> by 10% of the difference per
                    update.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[bG9jYWwgc2VuYXZhaWwgPQoJKG5vdCBDYWxjdWxhdGUuSXNOQU4oQ29udHJvbC5GZWVkYmFjay5WYWx1ZSkgYW5kIENvbnRyb2wuRmVlZGJhY2suVmFsdWUgPiAwLjApOwoKd2hlbiAoU3RhdGUpCnsKCWlzIChEaXNhYmxlZCkKCXsKCQl3aGVuIChFbmFibGUpCgkJewoJCQlpcyAoRGlzYWJsZWQpCgkJCXsKCQkJCS8qIHdhaXQgZm9yIGVuYWJsZSAqLwoJCQl9CgkJCWlzIChFbmFibGVkIG9yIFRyYW5zaWVudCkKCQkJewoJCQkJaWYgKHNlbmF2YWlsKQoJCQkJewoJCQkJCUNvbnRyb2wuQWltID0gQWltOwoJCQkJCVRpbWVyLlN0YXJ0KFBlcmlvZCk7CgkJCQkJU3RhdGUgPSBTdGF0ZS5XYWl0OwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCS8qIHNlbnNvciBpcyBzdGFydGluZyB1cCBvciBkaXNhYmxlZCAqLwoJCQkJCURpYWdub3N0aWMgPSBEaWFnbm9zdGljLlNlbnNvciBVbmF2YWlsYWJsZTsKCQkJCX0KCQkJfQoJCX0KCX0KCWlzIChTaHV0ZG93bikKCXsKCQkvKiB3YWl0IGZvciB0cmltIHRvIGRlY2F5ICovCgkJbG9jYWwgZG9uZSA9CgkJCShDYWxjdWxhdGUuQWJzb2x1dGUoQ29udHJvbC5UcmltIC0gMS4wKSA8PSAwLjAwMSk7CgoJCXdoZW4gKEVuYWJsZSkKCQl7CgkJCWlzIChEaXNhYmxlZCkKCQkJewoJCQkJaWYgKGRvbmUpCgkJCQl7CgkJCQkJU3RhdGUgPSBTdGF0ZS5EaXNhYmxlZDsKCQkJCX0KCQkJfQoJCQlpcyAoRW5hYmxlZCBvciBUcmFuc2llbnQpCgkJCXsKCQkJCWlmIChEaWFnbm9zdGljIGVxIERpYWdub3N0aWMuQ29udHJvbCBGYWlsdXJlKQoJCQkJewoJCQkJCWlmIChkb25lKQoJCQkJCXsKCQkJCQkJU3RhdGUgPSBTdGF0ZS5GYXVsdDsKCQkJCQl9CgkJCQl9CgkJCQllbHNlIGlmIChzZW5hdmFpbCkKCQkJCXsKCQkJCQlDb250cm9sLkFpbSA9IEFpbTsKCQkJCQlUaW1lci5TdGFydChQZXJpb2QpOwoJCQkJCVN0YXRlID0gU3RhdGUuV2FpdDsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQkvKiBib3RoIHNlbnNvcnMgYXJlIHN0YXJ0aW5nIHVwIG9yIGRpc2FibGVkICovCgkJCQkJRGlhZ25vc3RpYyA9IERpYWdub3N0aWMuU2Vuc29yIFVuYXZhaWxhYmxlOwoJCQkJCWlmIChkb25lKQoJCQkJCXsKCQkJCQkJU3RhdGUgPSBTdGF0ZS5EaXNhYmxlZDsKCQkJCQl9CgkJCQl9CgkJCX0KCQl9Cgl9CglpcyAoV2FpdCkKCXsKCQl3aGVuIChFbmFibGUpCgkJewoJCQlpcyAoVHJhbnNpZW50KQoJCQl7CgkJCQlDb250cm9sLkFpbSA9IEFpbTsKCQkJCVRpbWVyLlN0YXJ0KFBlcmlvZCk7CgkJCX0KCQkJaXMgKERpc2FibGVkKQoJCQl7CgkJCQlTdGF0ZSA9IFN0YXRlLlNodXRkb3duOwoJCQl9CgkJCWlzIChFbmFibGVkKQoJCQl7CgkJCQlpZiAobm90IHNlbmF2YWlsKQoJCQkJewoJCQkJCVN0YXRlID0gU3RhdGUuU2h1dGRvd247CgkJCQl9CgkJCQllbHNlIGlmIChUaW1lci5SZW1haW5pbmcoKSA8PSAwLjApCgkJCQl7CgkJCQkJU3RhdGUgPSBTdGF0ZS5TYW1wbGU7CgkJCQl9CgkJCQllbHNlIGlmIChUaW1lci5SZW1haW5pbmcoKSA+IFBlcmlvZCkKCQkJCXsKCQkJCQkvKiB0cmFuc2l0aW9uIGZyb20gbG93IGxvYWQgdG8gaGlnaCBsb2FkICovCgkJCQkJQ29udHJvbC5BaW0gPSBBaW07CgkJCQkJVGltZXIuU3RhcnQoUGVyaW9kKTsKCQkJCX0KCQkJfQoJCX0KCX0KCWlzIChTYW1wbGUpCgl7CgkJbG9jYWwgZmF1bHQgPQoJCQlDb250cm9sLlN0YXRlIGVxIENvbnRyb2wuU3RhdGUuU2xhdmU7CgoJCWlmIChmYXVsdCkKCQl7CgkJCURpYWdub3N0aWMgPSBEaWFnbm9zdGljLkNvbnRyb2wgRmFpbHVyZTsKCQkJU3RhdGUgPSBTdGF0ZS5TaHV0ZG93bjsKCQl9CgkJZWxzZQoJCXsKCQkJQ29udHJvbC5BaW0gPSBBaW07CgkJCVRpbWVyLlN0YXJ0KFBlcmlvZCk7CgkJCURpYWdub3N0aWMgPSBEaWFnbm9zdGljLk9LOwoJCQlTdGF0ZSA9IFN0YXRlLldhaXQ7CgkJfQoJfQoJaXMgKEZhdWx0KQoJewoJCWlmIChFbmFibGUgZXEgRW5hYmxlLkRpc2FibGVkKQoJCXsKCQkJRGlhZ25vc3RpYyA9IERpYWdub3N0aWMuT0s7CgkJCVN0YXRlID0gU3RhdGUuRGlzYWJsZWQ7CgkJfQoJCWVsc2UgaWYgKHNlbmF2YWlsIGFuZCBEaWFnbm9zdGljIG5lcSBEaWFnbm9zdGljLkNvbnRyb2wgRmFpbHVyZSkKCQl7CgkJCUNvbnRyb2wuQWltID0gQWltOwoJCQlUaW1lci5TdGFydChQZXJpb2QpOwoJCQlTdGF0ZSA9IFN0YXRlLldhaXQ7CgkJfQoJfQp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Control.Calculation">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[bG9jYWwgbGltZmF1bHQgPSBEZWxheS5SaXNpbmcoCglUaGlzLkRpYWdub3N0aWMgZXEgVGhpcy5EaWFnbm9zdGljLlRyaW0gTGltaXQgYW5kIENvb2xhbnQgVGVtcGVyYXR1cmUgPiBDb29sYW50IFRlbXBlcmF0dXJlIFRocmVzaG9sZCwKCUZhdWx0IERlbGF5Cik7CmxvY2FsIGV0ID0gU3lzdGVtLkVsYXBzZWRUaW1lKCk7CmxvY2FsIGRvcmVzZXQgPSBDaGFuZ2UuQnkoUmVzZXQsIDEpOwoKd2hlbiAoUGFyZW50LlN0YXRlKQp7CglpcyAoRGlzYWJsZWQpCgl7CgkJLyogcmVzZXQgZmF1bHRzIG9uIGVycm9yICovCgkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLk9LOwoJCVRoaXMuU3RhdGUgPSBUaGlzLlN0YXRlLk9LOwoJCVRyaW0gPSAxLjA7CgkJVHJpbS5BdmVyYWdlID0gMS4wOwoJfQoJaXMgKEZhdWx0KQoJewoJCS8qIGRvIG5vdGhpbmcgKi8KCX0KCWlzIChTaHV0ZG93bikKCXsKCQkvKiBkZWNheSBhdmVyYWdlIHRvIDEuMCAqLwoJCWxvY2FsIHN0ZXAgPSBUcmltLkF2ZXJhZ2UuRGVjYXkgKiBldDsKCQlsb2NhbCBkZWx0YSA9IFRyaW0uQXZlcmFnZSAtIDEuMDsKCQlpZiAoQ2FsY3VsYXRlLkFic29sdXRlKGRlbHRhKSA8IHN0ZXApCgkJewoJCQlUcmltLkF2ZXJhZ2UgPSAxLjA7CgkJfQoJCWVsc2UgaWYgKGRlbHRhID4gMC4wKQoJCXsKCQkJVHJpbS5BdmVyYWdlIC09IHN0ZXA7CgkJfQoJCWVsc2UKCQl7CgkJCVRyaW0uQXZlcmFnZSArPSBzdGVwOwoJCX0KCgkJVHJpbSA9IFRyaW0uQXZlcmFnZTsKCX0KCWlzIChXYWl0KQoJewoJCWlmIChkb3Jlc2V0KQoJCXsKCQkJVHJpbSA9IDEuMDsKCQkJVHJpbS5BdmVyYWdlID0gMS4wOwoJCX0KCQllbHNlIGlmIChQYXJlbnQuRW5hYmxlIGVxIFBhcmVudC5FbmFibGUuVHJhbnNpZW50KQoJCXsKCQkJLyogdXNlIGF2ZXJhZ2UgdHJpbSBkdXJpbmcgdHJhbnNpZW50cyAqLwoJCQlUcmltID0gVHJpbS5BdmVyYWdlOwoJCX0KCX0KCWlzIChTYW1wbGUpCgl7CgkJaWYgKGRvcmVzZXQpCgkJewoJCQlUcmltID0gMS4wOwoJCQlUcmltLkF2ZXJhZ2UgPSAxLjA7CgkJfQoJCWVsc2UgaWYgKGxpbWZhdWx0IG9yCgkJCShUaGlzLkRpYWdub3N0aWMgZXEgVGhpcy5EaWFnbm9zdGljLlNlbnNvciBGYXVsdCkgb3IKCQkJQ2FsY3VsYXRlLklzTkFOKEZlZWRiYWNrLlZhbHVlKSBvcgoJCQkoRmVlZGJhY2suVmFsdWUgPD0gMC4wKQoJCSkKCQl7CgkJCWlmIChsaW1mYXVsdCkKCQkJewoJCQkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLlNlbnNvciBGYXVsdDsKCQkJfQoKCQkJVGhpcy5TdGF0ZSA9IFRoaXMuU3RhdGUuU2xhdmU7CgoJCQkvKiBObyBvdGhlciBjb250cm9sbGVyIHRvIHNsYXZlIHRvICovCgkJCVRyaW0gPSAxLjA7CgkJCVRyaW0uQXZlcmFnZSA9IDEuMDsKCQl9CgkJZWxzZQoJCXsKCQkJbG9jYWwgbmV3dHJpbSA9IFRyaW0gKiAoMS4wICsgVHJpbS5HYWluICogKChGZWVkYmFjay5WYWx1ZSAvIFRoaXMuQWltKSAtIDEuMCkpOwoKCQkJaWYgKG5ld3RyaW0gPiBUcmltLk1heGltdW0pCgkJCXsKCQkJCW5ld3RyaW0gPSBUcmltLk1heGltdW07CgkJCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuVHJpbSBMaW1pdDsKCQkJfQoJCQllbHNlIGlmIChuZXd0cmltIDwgVHJpbS5NaW5pbXVtKQoJCQl7CgkJCQluZXd0cmltID0gVHJpbS5NaW5pbXVtOwoJCQkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLlRyaW0gTGltaXQ7CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuT0s7CgkJCX0KCgkJCVRyaW0gPSBuZXd0cmltOwoJCQlpZiAoU3lzdGVtLlhjcENvbm5lY3RlZCgpKQoJCQl7CgkJCQlUcmltLkF2ZXJhZ2UgPSAxLjA7CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlUcmltLkF2ZXJhZ2UgPSBUcmltLkF2ZXJhZ2UgKiAoMS4wICsgVHJpbS5BdmVyYWdlLkdhaW4gKiAoKFRyaW0gLyBUcmltLkF2ZXJhZ2UpIC0gMS4wKSk7CgkJCX0KCgkJCVRoaXMuU3RhdGUgPSBUaGlzLlN0YXRlLk9LOwoJCX0KCX0KfQ==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Init">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.init"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[Q29udHJvbC5UcmltID0gMS4wOwpDb250cm9sLlRyaW0uQXZlcmFnZSA9IDEuMDs=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Mode">
        <Props Type="MoTeC Types.Mode Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Controls the mode of the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Enable">
        <Props Type="::This.Fuel Closed Loop Enable Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Requested operation of the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.MethodUserParam" Name="Base.SetEnable">
        <Signature Name="" ReturnType="">
         <Params>
          <Param Name="Enable" Type="::This.Fuel Closed Loop Enable Enumeration" Attrs="0"/>
         </Params>
        </Signature>
        <Code Encoding="base64">
<![CDATA[d2hlbiAoTW9kZSkKewoJaXMgKEVuYWJsZWQpCgl7CgkJaWYgKChFbmdpbmUgU3BlZWQgPCBBY3RpdmF0ZS5FbmdpbmUgU3BlZWQpIG9yCgkJCShJbmxldCBNYW5pZm9sZCBQcmVzc3VyZSA8IEFjdGl2YXRlLklubGV0IE1hbmlmb2xkIFByZXNzdXJlKQoJCSkKCQl7CgkJCUVuYWJsZSA9IEVuYWJsZS5EaXNhYmxlZDsKCQl9CgkJZWxzZQoJCXsKCQkJRW5hYmxlID0gaW4uRW5hYmxlOwoJCX0KCX0KCWlzIChEaXNhYmxlZCkKCXsKCQlFbmFibGUgPSBFbmFibGUuRGlzYWJsZWQ7Cgl9Cn0K]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Aim">
        <Props Qty="LA" Validation="MinMax" ValMin="6.50000000000000020e-001" ValMax="1.20000000000000000e+000">
         <Locale>
          <Default DPS="2" Min="7.50000000000000000e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Lambda target.</p>
                  <p class="package_help">This is the target mixture at the start of the closed loop sample period. This value is saved to
                    compare with the measured Exhaust Lambda at the end of the sample period.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Aim">
        <Props Qty="LA">
         <Locale>
          <Default DPS="2"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Lambda target.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Coolant Temperature Threshold.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Coolant Temperature Threshold">
        <Props Qty="K" Validation="MinMax" ValMin="-5.00000000000000000e+001" ValMax="2.00000000000000000e+002" TargetCreation="AutoParam" Target="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">The <i class="package_help">Coolant Temperature</i> diagnostic threshold.</p>
                  <p class="package_help"><i class="package_help">Sensor Fault</i> detection is enabled above this threshold.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Coolant Temperature">
        <Props Qty="K"/>
        <Comment>
<![CDATA[<p class="package_help">The actual coolant temperature</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Engine Speed">
        <Props Qty="rad/s">
         <Locale>
          <Default Unit="rpm"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The actual engine speed.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Inlet Manifold Pressure">
        <Props Qty="Pa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="kPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The actual engine efficiency.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Activate">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Activate.Engine Speed">
        <Props Qty="rad/s" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="rpm"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Closed loop control will be disabled below this engine speed.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Activate.Inlet Manifold Pressure">
        <Props Qty="Pa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="kPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P class=package_help>Closed loop control will be disabled below this <EM>Inlet Manifold Pressure</EM>.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Trim.Minimum">
        <Props Qty="ratio" Validation="MinMax" ValMin="5.000000e-001" ValMax="1.000000e+000">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Minimum trim clamp.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Trim.Maximum">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.000000e+000" ValMax="1.500000e+000">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Maximum trim clamp.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Reset">
        <Props Type="s32"/>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Enable"/>
        <Component Name="State"/>
        <Component Name="Diagnostic"/>
        <Component Name="Period">
         <Component Name="Value"/>
         <Component Name="Init"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="Mode"/>
        <Component Name="Fault Delay"/>
        <Component Name="Aim"/>
        <Component Name="Coolant Temperature"/>
        <Component Name="Coolant Temperature Threshold">
         <Component Name="Value"/>
        </Component>
        <Component Name="Engine Speed"/>
        <Component Name="Inlet Manifold Pressure"/>
        <Component Name="Reset"/>
        <Component Name="Activate">
         <Component Name="Engine Speed"/>
         <Component Name="Inlet Manifold Pressure"/>
        </Component>
        <Component Name="Calculation"/>
        <Component Name="Control">
         <Component Name="Aim"/>
         <Component Name="Trim">
          <Component Name="Value"/>
          <Component Name="Gain"/>
          <Component Name="Minimum"/>
          <Component Name="Maximum"/>
          <Component Name="Average">
           <Component Name="Value"/>
           <Component Name="Gain"/>
           <Component Name="Decay"/>
          </Component>
         </Component>
         <Component Name="Feedback">
          <Component Name="Value"/>
         </Component>
         <Component Name="State"/>
         <Component Name="Diagnostic"/>
         <Component Name="Calculation"/>
        </Component>
        <Component Name="Init"/>
        <Component Name="Timer">
         <Component Name="Start"/>
         <Component Name="Remaining"/>
        </Component>
        <Component Name="SetEnable"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Dual Closed Loop Fuel">
     <BuildHelp>
<![CDATA[]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="Aim Component" Creation="Custom" Visible="1" TargetCpt="This.Aim" TargetRef="Target" DisplayName="Aim Component"/>
         <Property Name="Bank 1 Feedback Component" Creation="Custom" Visible="1" TargetCpt="This.Control.Bank 1.Feedback.Value" TargetRef="Target" DisplayName="Bank 1 Feedback Component"/>
         <Property Name="Bank 2 Feedback Component" Creation="Custom" Visible="1" TargetCpt="This.Control.Bank 2.Feedback.Value" TargetRef="Target" DisplayName="Bank 2 Feedback Component"/>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Control Bank 1 Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Control.Bank 1.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Control Bank 1 Diagnostic Diagnostic Log Rate"/>
         <Property Name="Control Bank 1 Trim Value Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Control.Bank 1.Trim.Value" TargetRef="DiagnosticLogRate" DisplayName="Control Bank 1 Trim Value Diagnostic Log Rate"/>
         <Property Name="Control Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Control.Bank 1.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Control Diagnostic Logging"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Diagnostic Diagnostic Log Rate"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="System Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Diagnostic" TargetRef="DiagnosticLog" DisplayName="System Diagnostic Logging"/>
         <Property Name="Table Dimensions" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="NumAxes" DisplayName="Table Dimensions"/>
         <Property Name="Trim Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Control.Bank 1.Trim.Value" TargetRef="DiagnosticLog" DisplayName="Trim Diagnostic Logging"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="0"/>
         <Property Name="X Axis Component" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.X.Source" DisplayName="X Axis Component"/>
         <Property Name="X Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.X.MaxSites" DisplayName="X Axis Max Sites"/>
         <Property Name="Y Axis Component" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Y.Source" DisplayName="Y Axis Component"/>
         <Property Name="Y Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Y.MaxSites" DisplayName="Y Axis Max Sites"/>
         <Property Name="Z Axis Component" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Z.Source" DisplayName="Z Axis Component"/>
         <Property Name="Z Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Period" TargetRef="Axis.Z.MaxSites" DisplayName="Z Axis Max Sites"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Coolant Temperature" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Coolant Temperature Threshold" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Engine Speed" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Activate.Engine Speed" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Minimum" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Control.Trim.Maximum" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Reset" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Inlet Manifold Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Activate.Inlet Manifold Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.State">
        <Props Type="::This.Fuel Closed Loop State Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Status of the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Diagnostic">
        <Props Type="::This.Fuel Closed Loop Diagnostic Enumeration">
         <List.UserTags>
          <Entry Value="Logging"/>
         </List.UserTags>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Diagnostic status of the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Period">
        <Comment>
<![CDATA[<p class="package_help">Control period for the closed loop fuel system.</p>
                  <p class="package_help">This is the time between <i class="package_help">Closed Loop Control Trim</i> updates, and normally represents the
                    time <i class="package_help">Period</i> from the fuel injection pulse to the measured lambda changing from the exhaust
                    gas passing the sensor. For example if a 10% fuel trim was applied this is the time from the trim
                    change to the lambda sensor changing by at least -0.08la.</p>
                  <p class="package_help">This value may be less than the time for the sensor to reach the final value, however when <i class="package_help">
                    Period</i> is reduced <i class="package_help">Control Trim Gain</i> must also be reduced to prevent closed loop control
                    from becoming unstable.</p>
                  <p class="package_help"><i class="package_help">Period</i> is related to the exhaust system volume and the exhaust mass flow.</p>
                  <p class="package_help">Start with 2sec at low flow (idle), reducing to 0.5sec at peak flow (peak power).</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Period.Value">
        <Props Qty="s" Validation="MinMax" ValMin="1.000000e-003" ValMax="5.000000e+000">
         <Locale>
          <Default Unit="ms" DPS="0"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Period.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Period.Update">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Fault Delay">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="6.000000e+001"/>
        <Comment>
<![CDATA[<p class="package_help">Time before a <i class="package_help">Trim Limit</i> diagnostic becomes a <i class="package_help">Sensor Limit</i> fault.</p>
                  <p class="package_help">This can be caused by a faulty sensor.</p>
                  <p class="package_help">Start with 10 seconds.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Trim.Average">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Average.Decay">
        <Props Qty="ratio/s" Validation="MinMax" ValMin="1.000000e-004" ValMax="1.000000e+000">
         <Locale>
          <Default Unit="%/s" DPS="2"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Rate at which <i class="package_help">Trim Average</i> decays on shutdown.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Gain">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="1.000000e+000">
         <Locale>
          <Default Unit="%"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Gain for <i class="package_help">Trim</i> adjustment.</p>
                  <p class="package_help">When gain is 100% the lambda error is corrected in a single update.</p>
                  <p class="package_help">Start with 80%.</p>
                  <p class="package_help">The effect of this gain is also influenced by <i class="package_help">Period</i>. If closed loop control is responding
                    too slowly check that <i class="package_help">Period</i> is set correctly.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Trim">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Bank 1">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Bank 1.Feedback">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Bank 1.Feedback.Value">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda feedback value for bank 1.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 1.Trim.Value">
        <Props Qty="ratio">
         <Locale>
          <Default Unit="%Trim" Min="9.00000000000000020e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Trim output of the control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 1.State">
        <Props Type="::This.Fuel Closed Loop Controller State Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Status of the bank 1 control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Timer" Name="Base.Timer"/>
       <Component Classname="BuiltIn.FuncGenerated.Timer.Set" Caps="AutoCreated" Name="Base.Timer.Start">
        <Signature Name="" ReturnType="">
         <Params>
          <Param Name="Timeout" Type="f32" Attrs="0"/>
         </Params>
        </Signature>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Timer.Remaining" Caps="AutoCreated" Name="Base.Timer.Remaining">
        <Signature Name="" ReturnType="f32">
         <Params/>
        </Signature>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 1.Diagnostic">
        <Props Type="::This.Fuel Closed Loop Controller Diagnostic Enumeration">
         <List.UserTags>
          <Entry Value="Logging"/>
         </List.UserTags>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Diagnostic status of the bank 1 control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Average.Gain">
        <Props Qty="ratio" Validation="MinMax" ValMin="0.000000e+000" ValMax="1.000000e-001">
         <Locale>
          <Default Unit="%"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Gain for <i class="package_help">Trim.Average</i> adjustment.</p>
                  <p class="package_help">This gain should be low to ensure that <i class="package_help">Trim Average</i> tracks long term errors such as
                    changes in ambient pressure or fuel temperature.</p>
                  <p class="package_help">If the gain is 10% <i class="package_help">Trim Average</i> will step towards <i class="package_help">Trim</i> by 10% of the difference per
                    update.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Bank 1.Trim">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 1.Trim.Average">
        <Props Qty="ratio">
         <Locale>
          <Default Unit="%Trim" Min="9.00000000000000020e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Average trim of the control system.</p>
                  <p class="package_help">The control trim is set to this value when recovering from transient conditions</p>
                  <p class="package_help">NOTE: <i class="package_help">Trim Average</i> is set to 0.0% trim when M1 Tune is connected</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Bank 2">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Bank 2.Feedback">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Bank 2.Feedback.Value">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda feedback value for bank 1.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 2.Trim.Value">
        <Props DiagnosticLog="$(Parent.Parent.Parent.Bank 1.Trim.Value:DiagnosticLog)" DiagnosticLogRate="$(Parent.Parent.Parent.Bank 1.Trim.Value:DiagnosticLogRate)" Qty="ratio">
         <Locale>
          <Default Unit="%Trim" Min="9.00000000000000020e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Trim output of the control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 2.Trim.Average">
        <Props Qty="ratio">
         <Locale>
          <Default Unit="%Trim" Min="9.00000000000000020e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Average trim of the control system.</p>
                  <p class="package_help">The control trim is set to this value when recovering from transient conditions</p>
                  <p class="package_help">NOTE: <i class="package_help">Trim Average</i> is set to 0.0% trim when M1 Tune is connected</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 2.Diagnostic">
        <Props DiagnosticLog="$(Parent.Parent.Bank 1.Diagnostic:DiagnosticLog)" DiagnosticLogRate="$(Parent.Parent.Bank 1.Diagnostic:DiagnosticLogRate)" Type="::This.Fuel Closed Loop Controller Diagnostic Enumeration">
         <List.UserTags>
          <Entry Value="Logging"/>
         </List.UserTags>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Diagnostic status of the bank 1 control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Bank 2.State">
        <Props Type="::This.Fuel Closed Loop Controller State Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Status of the bank 1 control system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Control.Bank 2.Trim">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[bG9jYWwgc2VuYXZhaWwgPQoJKG5vdCBDYWxjdWxhdGUuSXNOQU4oQ29udHJvbC5CYW5rIDEuRmVlZGJhY2suVmFsdWUpIGFuZCBDb250cm9sLkJhbmsgMS5GZWVkYmFjay5WYWx1ZSA+IDAuMCkgb3IKCShub3QgQ2FsY3VsYXRlLklzTkFOKENvbnRyb2wuQmFuayAyLkZlZWRiYWNrLlZhbHVlKSBhbmQgQ29udHJvbC5CYW5rIDIuRmVlZGJhY2suVmFsdWUgPiAwLjApOwoKd2hlbiAoU3RhdGUpCnsKCWlzIChEaXNhYmxlZCkKCXsKCQl3aGVuIChFbmFibGUpCgkJewoJCQlpcyAoRGlzYWJsZWQpCgkJCXsKCQkJCS8qIHdhaXQgZm9yIGVuYWJsZSAqLwoJCQl9CgkJCWlzIChFbmFibGVkIG9yIFRyYW5zaWVudCkKCQkJewoJCQkJaWYgKHNlbmF2YWlsKQoJCQkJewoJCQkJCUNvbnRyb2wuQWltID0gQWltOwoJCQkJCVRpbWVyLlN0YXJ0KFBlcmlvZCk7CgkJCQkJU3RhdGUgPSBTdGF0ZS5XYWl0OwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCS8qIGJvdGggc2Vuc29ycyBhcmUgc3RhcnRpbmcgdXAgb3IgZGlzYWJsZWQgKi8KCQkJCQlEaWFnbm9zdGljID0gRGlhZ25vc3RpYy5TZW5zb3IgVW5hdmFpbGFibGU7CgkJCQl9CgkJCX0KCQl9Cgl9CglpcyAoU2h1dGRvd24pCgl7CgkJLyogd2FpdCBmb3IgYm90aCBiYW5rIHRyaW1zIHRvIGRlY2F5ICovCgkJbG9jYWwgZG9uZSA9CgkJCShDYWxjdWxhdGUuQWJzb2x1dGUoQ29udHJvbC5CYW5rIDEuVHJpbSAtIDEuMCkgPD0gMC4wMDEpIGFuZAoJCQkoQ2FsY3VsYXRlLkFic29sdXRlKENvbnRyb2wuQmFuayAyLlRyaW0gLSAxLjApIDw9IDAuMDAxKTsKCgkJd2hlbiAoRW5hYmxlKQoJCXsKCQkJaXMgKERpc2FibGVkKQoJCQl7CgkJCQlpZiAoZG9uZSkKCQkJCXsKCQkJCQlTdGF0ZSA9IFN0YXRlLkRpc2FibGVkOwoJCQkJfQoJCQl9CgkJCWlzIChFbmFibGVkIG9yIFRyYW5zaWVudCkKCQkJewoJCQkJaWYgKERpYWdub3N0aWMgZXEgRGlhZ25vc3RpYy5Db250cm9sIEZhaWx1cmUpCgkJCQl7CgkJCQkJaWYgKGRvbmUpCgkJCQkJewoJCQkJCQlTdGF0ZSA9IFN0YXRlLkZhdWx0OwoJCQkJCX0KCQkJCX0KCQkJCWVsc2UgaWYgKHNlbmF2YWlsKQoJCQkJewoJCQkJCUNvbnRyb2wuQWltID0gQWltOwoJCQkJCVRpbWVyLlN0YXJ0KFBlcmlvZCk7CgkJCQkJU3RhdGUgPSBTdGF0ZS5XYWl0OwoJCQkJfQoJCQkJZWxzZQoJCQkJewoJCQkJCS8qIGJvdGggc2Vuc29ycyBhcmUgc3RhcnRpbmcgdXAgb3IgZGlzYWJsZWQgKi8KCQkJCQlEaWFnbm9zdGljID0gRGlhZ25vc3RpYy5TZW5zb3IgVW5hdmFpbGFibGU7CgkJCQkJaWYgKGRvbmUpCgkJCQkJewoJCQkJCQlTdGF0ZSA9IFN0YXRlLkRpc2FibGVkOwoJCQkJCX0KCQkJCX0KCQkJfQoJCX0KCX0KCWlzIChXYWl0KQoJewoJCXdoZW4gKEVuYWJsZSkKCQl7CgkJCWlzIChUcmFuc2llbnQpCgkJCXsKCQkJCUNvbnRyb2wuQWltID0gQWltOwoJCQkJVGltZXIuU3RhcnQoUGVyaW9kKTsKCQkJfQoJCQlpcyAoRGlzYWJsZWQpCgkJCXsKCQkJCVN0YXRlID0gU3RhdGUuU2h1dGRvd247CgkJCX0KCQkJaXMgKEVuYWJsZWQpCgkJCXsKCQkJCWlmIChub3Qgc2VuYXZhaWwpCgkJCQl7CgkJCQkJU3RhdGUgPSBTdGF0ZS5TaHV0ZG93bjsKCQkJCX0KCQkJCWVsc2UgaWYgKFRpbWVyLlJlbWFpbmluZygpIDw9IDAuMCkKCQkJCXsKCQkJCQlTdGF0ZSA9IFN0YXRlLlNhbXBsZTsKCQkJCX0KCQkJCWVsc2UgaWYgKFRpbWVyLlJlbWFpbmluZygpID4gUGVyaW9kKQoJCQkJewoJCQkJCS8qIHRyYW5zaXRpb24gZnJvbSBsb3cgbG9hZCB0byBoaWdoIGxvYWQgKi8KCQkJCQlDb250cm9sLkFpbSA9IEFpbTsKCQkJCQlUaW1lci5TdGFydChQZXJpb2QpOwoJCQkJfQoJCQl9CgkJfQoJfQoJaXMgKFNhbXBsZSkKCXsKCQlsb2NhbCBzbGF2ZSA9CgkJCUNvbnRyb2wuQmFuayAxLlN0YXRlIGVxIENvbnRyb2wuQmFuayAxLlN0YXRlLlNsYXZlIG9yCgkJCUNvbnRyb2wuQmFuayAyLlN0YXRlIGVxIENvbnRyb2wuQmFuayAyLlN0YXRlLlNsYXZlOwoKCQlsb2NhbCBmYXVsdCA9CgkJCUNvbnRyb2wuQmFuayAxLlN0YXRlIGVxIENvbnRyb2wuQmFuayAxLlN0YXRlLlNsYXZlIGFuZAoJCQlDb250cm9sLkJhbmsgMi5TdGF0ZSBlcSBDb250cm9sLkJhbmsgMi5TdGF0ZS5TbGF2ZTsKCgkJaWYgKGZhdWx0KQoJCXsKCQkJRGlhZ25vc3RpYyA9IERpYWdub3N0aWMuQ29udHJvbCBGYWlsdXJlOwoJCQlTdGF0ZSA9IFN0YXRlLlNodXRkb3duOwoJCX0KCQllbHNlIGlmIChzbGF2ZSkKCQl7CgkJCUNvbnRyb2wuQWltID0gQWltOwoJCQlUaW1lci5TdGFydChQZXJpb2QpOwoJCQlEaWFnbm9zdGljID0gRGlhZ25vc3RpYy5TaW5nbGUgU2Vuc29yOwoJCQlTdGF0ZSA9IFN0YXRlLldhaXQ7CgkJfQoJCWVsc2UKCQl7CgkJCUNvbnRyb2wuQWltID0gQWltOwoJCQlUaW1lci5TdGFydChQZXJpb2QpOwoJCQlEaWFnbm9zdGljID0gRGlhZ25vc3RpYy5PSzsKCQkJU3RhdGUgPSBTdGF0ZS5XYWl0OwoJCX0KCX0KCWlzIChGYXVsdCkKCXsKCQlpZiAoRW5hYmxlIGVxIEVuYWJsZS5EaXNhYmxlZCkKCQl7CgkJCURpYWdub3N0aWMgPSBEaWFnbm9zdGljLk9LOwoJCQlTdGF0ZSA9IFN0YXRlLkRpc2FibGVkOwoJCX0KCQllbHNlIGlmIChzZW5hdmFpbCBhbmQgRGlhZ25vc3RpYyBuZXEgRGlhZ25vc3RpYy5Db250cm9sIEZhaWx1cmUpCgkJewoJCQlDb250cm9sLkFpbSA9IEFpbTsKCQkJVGltZXIuU3RhcnQoUGVyaW9kKTsKCQkJU3RhdGUgPSBTdGF0ZS5XYWl0OwoJCX0KCX0KfQ==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Control.Bank 1.Calculation">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[bG9jYWwgbGltZmF1bHQgPSBEZWxheS5SaXNpbmcoCglUaGlzLkRpYWdub3N0aWMgZXEgVGhpcy5EaWFnbm9zdGljLlRyaW0gTGltaXQgYW5kIENvb2xhbnQgVGVtcGVyYXR1cmUgPiBDb29sYW50IFRlbXBlcmF0dXJlIFRocmVzaG9sZCwKCVBhcmVudC5QYXJlbnQuRmF1bHQgRGVsYXkKKTsKbG9jYWwgZXQgPSBTeXN0ZW0uRWxhcHNlZFRpbWUoKTsKbG9jYWwgZG9yZXNldCA9IENoYW5nZS5CeShSZXNldCwgMSk7Cgp3aGVuIChQYXJlbnQuUGFyZW50LlN0YXRlKQp7CglpcyAoRGlzYWJsZWQpCgl7CgkJLyogcmVzZXQgZmF1bHRzIG9uIGVycm9yICovCgkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLk9LOwoJCVRoaXMuU3RhdGUgPSBUaGlzLlN0YXRlLk9LOwoJCVRyaW0gPSAxLjA7CgkJVHJpbS5BdmVyYWdlID0gMS4wOwoJfQoJaXMgKEZhdWx0KQoJewoJCS8qIGRvIG5vdGhpbmcgKi8KCX0KCWlzIChTaHV0ZG93bikKCXsKCQkvKiBkZWNheSBhdmVyYWdlIHRvIDEuMCAqLwoJCWxvY2FsIHN0ZXAgPSBQYXJlbnQuVHJpbS5BdmVyYWdlLkRlY2F5ICogZXQ7CgkJbG9jYWwgZGVsdGEgPSBUcmltLkF2ZXJhZ2UgLSAxLjA7CgkJaWYgKENhbGN1bGF0ZS5BYnNvbHV0ZShkZWx0YSkgPCBzdGVwKQoJCXsKCQkJVHJpbS5BdmVyYWdlID0gMS4wOwoJCX0KCQllbHNlIGlmIChkZWx0YSA+IDAuMCkKCQl7CgkJCVRyaW0uQXZlcmFnZSAtPSBzdGVwOwoJCX0KCQllbHNlCgkJewoJCQlUcmltLkF2ZXJhZ2UgKz0gc3RlcDsKCQl9CgoJCVRyaW0gPSBUcmltLkF2ZXJhZ2U7Cgl9CglpcyAoV2FpdCkKCXsKCQlpZiAoZG9yZXNldCkKCQl7CgkJCVRyaW0gPSAxLjA7CgkJCVRyaW0uQXZlcmFnZSA9IDEuMDsKCQl9CgkJZWxzZSBpZiAoUGFyZW50LlBhcmVudC5FbmFibGUgZXEgUGFyZW50LlBhcmVudC5FbmFibGUuVHJhbnNpZW50KQoJCXsKCQkJLyogdXNlIGF2ZXJhZ2UgdHJpbSBkdXJpbmcgdHJhbnNpZW50cyAqLwoJCQlUcmltID0gVHJpbS5BdmVyYWdlOwoJCX0KCX0KCWlzIChTYW1wbGUpCgl7CgkJaWYgKGRvcmVzZXQpCgkJewoJCQlUcmltID0gMS4wOwoJCQlUcmltLkF2ZXJhZ2UgPSAxLjA7CgkJfQoJCWVsc2UgaWYgKGxpbWZhdWx0IG9yCgkJCShUaGlzLkRpYWdub3N0aWMgZXEgVGhpcy5EaWFnbm9zdGljLlNlbnNvciBGYXVsdCkgb3IKCQkJQ2FsY3VsYXRlLklzTkFOKEZlZWRiYWNrLlZhbHVlKSBvcgoJCQkoRmVlZGJhY2suVmFsdWUgPD0gMC4wKQoJCSkKCQl7CgkJCWlmIChsaW1mYXVsdCkKCQkJewoJCQkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLlNlbnNvciBGYXVsdDsKCQkJfQoKCQkJVGhpcy5TdGF0ZSA9IFRoaXMuU3RhdGUuU2xhdmU7CgkJCVRyaW0gPSBQYXJlbnQuQmFuayAyLlRyaW07CgkJCVRyaW0uQXZlcmFnZSA9IFBhcmVudC5CYW5rIDIuVHJpbS5BdmVyYWdlOwoJCX0KCQllbHNlCgkJewoJCQlsb2NhbCBuZXd0cmltID0gVHJpbSAqICgxLjAgKyBQYXJlbnQuVHJpbS5HYWluICogKChGZWVkYmFjay5WYWx1ZSAvIFBhcmVudC5BaW0pIC0gMS4wKSk7CgoJCQlpZiAobmV3dHJpbSA+IFBhcmVudC5UcmltLk1heGltdW0pCgkJCXsKCQkJCW5ld3RyaW0gPSBQYXJlbnQuVHJpbS5NYXhpbXVtOwoJCQkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLlRyaW0gTGltaXQ7CgkJCX0KCQkJZWxzZSBpZiAobmV3dHJpbSA8IFBhcmVudC5UcmltLk1pbmltdW0pCgkJCXsKCQkJCW5ld3RyaW0gPSBQYXJlbnQuVHJpbS5NaW5pbXVtOwoJCQkJVGhpcy5EaWFnbm9zdGljID0gVGhpcy5EaWFnbm9zdGljLlRyaW0gTGltaXQ7CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuT0s7CgkJCX0KCgkJCVRyaW0gPSBuZXd0cmltOwoJCQlpZiAoU3lzdGVtLlhjcENvbm5lY3RlZCgpKQoJCQl7CgkJCQlUcmltLkF2ZXJhZ2UgPSAxLjA7CgkJCX0KCQkJZWxzZQoJCQl7CgkJCQlUcmltLkF2ZXJhZ2UgPSBUcmltLkF2ZXJhZ2UgKiAoMS4wICsgUGFyZW50LlRyaW0uQXZlcmFnZS5HYWluICogKChUcmltIC8gVHJpbS5BdmVyYWdlKSAtIDEuMCkpOwoJCQl9CgoJCQlUaGlzLlN0YXRlID0gVGhpcy5TdGF0ZS5PSzsKCQl9Cgl9Cn0=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Control.Bank 2.Calculation">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[bG9jYWwgbGltZmF1bHQgPSBEZWxheS5SaXNpbmcoCglUaGlzLkRpYWdub3N0aWMgZXEgVGhpcy5EaWFnbm9zdGljLlRyaW0gTGltaXQgYW5kIENvb2xhbnQgVGVtcGVyYXR1cmUgPiBDb29sYW50IFRlbXBlcmF0dXJlIFRocmVzaG9sZCwKCVBhcmVudC5QYXJlbnQuRmF1bHQgRGVsYXkKKTsKbG9jYWwgZXQgPSBTeXN0ZW0uRWxhcHNlZFRpbWUoKTsKCndoZW4gKFBhcmVudC5QYXJlbnQuU3RhdGUpCnsKCWlzIChEaXNhYmxlZCkKCXsKCQkvKiByZXNldCBmYXVsdHMgb24gZXJyb3IgKi8KCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuT0s7CgkJVGhpcy5TdGF0ZSA9IFRoaXMuU3RhdGUuT0s7CgkJVHJpbSA9IDEuMDsKCQlUcmltLkF2ZXJhZ2UgPSAxLjA7Cgl9CglpcyAoRmF1bHQpCgl7CgkJLyogZG8gbm90aGluZyAqLwoJfQoJaXMgKFNodXRkb3duKQoJewoJCS8qIGRlY2F5IGF2ZXJhZ2UgdG8gMS4wICovCgkJbG9jYWwgc3RlcCA9IFBhcmVudC5UcmltLkF2ZXJhZ2UuRGVjYXkgKiBldDsKCQlsb2NhbCBkZWx0YSA9IFRyaW0uQXZlcmFnZSAtIDEuMDsKCQlpZiAoQ2FsY3VsYXRlLkFic29sdXRlKGRlbHRhKSA8IHN0ZXApCgkJewoJCQlUcmltLkF2ZXJhZ2UgPSAxLjA7CgkJfQoJCWVsc2UgaWYgKGRlbHRhID4gMC4wKQoJCXsKCQkJVHJpbS5BdmVyYWdlIC09IHN0ZXA7CgkJfQoJCWVsc2UKCQl7CgkJCVRyaW0uQXZlcmFnZSArPSBzdGVwOwoJCX0KCgkJVHJpbSA9IFRyaW0uQXZlcmFnZTsKCX0KCWlzIChXYWl0KQoJewoJCWlmIChQYXJlbnQuUGFyZW50LkVuYWJsZSBlcSBQYXJlbnQuUGFyZW50LkVuYWJsZS5UcmFuc2llbnQpCgkJewoJCQkvKiB1c2UgYXZlcmFnZSB0cmltIGR1cmluZyB0cmFuc2llbnRzICovCgkJCVRyaW0gPSBUcmltLkF2ZXJhZ2U7CgkJfQoJfQoJaXMgKFNhbXBsZSkKCXsKCQlpZiAobGltZmF1bHQgb3IKCQkJKFRoaXMuRGlhZ25vc3RpYyBlcSBUaGlzLkRpYWdub3N0aWMuU2Vuc29yIEZhdWx0KSBvcgoJCQlDYWxjdWxhdGUuSXNOQU4oRmVlZGJhY2suVmFsdWUpIG9yCgkJCShGZWVkYmFjay5WYWx1ZSA8PSAwLjApCgkJKQoJCXsKCQkJaWYgKGxpbWZhdWx0KQoJCQl7CgkJCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuU2Vuc29yIEZhdWx0OwoJCQl9CgoJCQlUaGlzLlN0YXRlID0gVGhpcy5TdGF0ZS5TbGF2ZTsKCQkJVHJpbSA9IFBhcmVudC5CYW5rIDEuVHJpbTsKCQkJVHJpbS5BdmVyYWdlID0gUGFyZW50LkJhbmsgMS5UcmltLkF2ZXJhZ2U7CgkJfQoJCWVsc2UKCQl7CgkJCWxvY2FsIG5ld3RyaW0gPSBUcmltICogKDEuMCArIFBhcmVudC5UcmltLkdhaW4gKiAoKEZlZWRiYWNrLlZhbHVlIC8gUGFyZW50LkFpbSkgLSAxLjApKTsKCgkJCWlmIChuZXd0cmltID4gUGFyZW50LlRyaW0uTWF4aW11bSkKCQkJewoJCQkJbmV3dHJpbSA9IFBhcmVudC5UcmltLk1heGltdW07CgkJCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuVHJpbSBMaW1pdDsKCQkJfQoJCQllbHNlIGlmIChuZXd0cmltIDwgUGFyZW50LlRyaW0uTWluaW11bSkKCQkJewoJCQkJbmV3dHJpbSA9IFBhcmVudC5UcmltLk1pbmltdW07CgkJCQlUaGlzLkRpYWdub3N0aWMgPSBUaGlzLkRpYWdub3N0aWMuVHJpbSBMaW1pdDsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCVRoaXMuRGlhZ25vc3RpYyA9IFRoaXMuRGlhZ25vc3RpYy5PSzsKCQkJfQoKCQkJVHJpbSA9IG5ld3RyaW07CgkJCWlmIChTeXN0ZW0uWGNwQ29ubmVjdGVkKCkpCgkJCXsKCQkJCVRyaW0uQXZlcmFnZSA9IDEuMDsKCQkJfQoJCQllbHNlCgkJCXsKCQkJCVRyaW0uQXZlcmFnZSA9IFRyaW0uQXZlcmFnZSAqICgxLjAgKyBQYXJlbnQuVHJpbS5BdmVyYWdlLkdhaW4gKiAoKFRyaW0gLyBUcmltLkF2ZXJhZ2UpIC0gMS4wKSk7CgkJCX0KCgkJCVRoaXMuU3RhdGUgPSBUaGlzLlN0YXRlLk9LOwoJCX0KCX0KfQ==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Init">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.init"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[Q29udHJvbC5CYW5rIDEuVHJpbSA9IDEuMDsKQ29udHJvbC5CYW5rIDEuVHJpbS5BdmVyYWdlID0gMS4wOwpDb250cm9sLkJhbmsgMi5UcmltID0gMS4wOwpDb250cm9sLkJhbmsgMi5UcmltLkF2ZXJhZ2UgPSAxLjA7]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Enable">
        <Props Type="::This.Fuel Closed Loop Enable Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Controls the mode of the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Mode">
        <Props Type="MoTeC Types.Mode Enumeration"/>
        <Comment>
<![CDATA[<p class="package_help">Controls the mode of the closed loop fuel system.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.MethodUserParam" Name="Base.SetEnable">
        <Signature Name="" ReturnType="">
         <Params>
          <Param Name="Enable" Type="::This.Fuel Closed Loop Enable Enumeration" Attrs="0"/>
         </Params>
        </Signature>
        <Code Encoding="base64">
<![CDATA[d2hlbiAoTW9kZSkKewoJaXMgKEVuYWJsZWQpCgl7CgkJaWYgKChFbmdpbmUgU3BlZWQgPCBBY3RpdmF0ZS5FbmdpbmUgU3BlZWQpIG9yCgkJCShJbmxldCBNYW5pZm9sZCBQcmVzc3VyZSA8IEFjdGl2YXRlLklubGV0IE1hbmlmb2xkIFByZXNzdXJlKQoJCSkKCQl7CgkJCUVuYWJsZSA9IEVuYWJsZS5EaXNhYmxlZDsKCQl9CgkJZWxzZQoJCXsKCQkJRW5hYmxlID0gaW4uRW5hYmxlOwoJCX0KCX0KCWlzIChEaXNhYmxlZCkKCXsKCQlFbmFibGUgPSBFbmFibGUuRGlzYWJsZWQ7Cgl9Cn0K]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Aim">
        <Props Qty="LA">
         <Locale>
          <Default DPS="2"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Lambda target.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Control.Aim">
        <Props Qty="LA" Validation="MinMax" ValMin="6.50000000000000020e-001" ValMax="1.20000000000000000e+000">
         <Locale>
          <Default DPS="2" Min="7.50000000000000000e-001" Max="1.10000000000000010e+000"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Lambda target.</p>
                  <p class="package_help">This is the target mixture at the start of the closed loop sample period. This value is saved to
                    compare with the measured exhaust lambda at the end of the sample period.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Coolant Temperature Threshold.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Coolant Temperature Threshold">
        <Props Qty="K" Validation="MinMax" ValMin="-5.00000000000000000e+001" ValMax="2.00000000000000000e+002" TargetCreation="AutoParam" Target="This.Value"/>
        <Comment>
<![CDATA[<p class="package_help">The <i class="package_help">Coolant Temperature</i> diagnostic threshold.</p>
                  <p class="package_help"><i class="package_help">Sensor Fault</i> detection is enabled above this threshold.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Coolant Temperature">
        <Props Qty="K"/>
        <Comment>
<![CDATA[<p class="package_help">The actual coolant temperature</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Activate.Inlet Manifold Pressure">
        <Props Qty="Pa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="kPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P class=package_help>Closed loop control will be disabled below this <EM>Inlet Manifold Pressure</EM>.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Activate.Engine Speed">
        <Props Qty="rad/s" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="rpm"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Closed loop control will be disabled below this engine speed.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Activate">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Inlet Manifold Pressure">
        <Props Qty="Pa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="kPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The actual engine efficiency.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Engine Speed">
        <Props Qty="rad/s">
         <Locale>
          <Default Unit="rpm"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The actual engine speed.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Maximum.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Trim.Maximum">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.000000e+000" ValMax="1.500000e+000" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Maximum trim clamp.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Control.Trim.Minimum.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Control.Trim.Minimum">
        <Props Qty="ratio" Validation="MinMax" ValMin="5.000000e-001" ValMax="1.000000e+000" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Minimum trim clamp.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Reset">
        <Props Type="s32"/>
        <Comment>
<![CDATA[<p class="package_help">This value is for internal integration between quick lambda functions and closed loop fuel
                    control. There is no need to adjust this value manually.</p>]]>
        </Comment>
       </Component>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Enable"/>
        <Component Name="State"/>
        <Component Name="Diagnostic"/>
        <Component Name="Period">
         <Component Name="Value"/>
         <Component Name="Init"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="Mode"/>
        <Component Name="Fault Delay"/>
        <Component Name="Aim"/>
        <Component Name="Coolant Temperature"/>
        <Component Name="Coolant Temperature Threshold">
         <Component Name="Value"/>
        </Component>
        <Component Name="Engine Speed"/>
        <Component Name="Inlet Manifold Pressure"/>
        <Component Name="Reset"/>
        <Component Name="Activate">
         <Component Name="Engine Speed"/>
         <Component Name="Inlet Manifold Pressure"/>
        </Component>
        <Component Name="Calculation"/>
        <Component Name="Control">
         <Component Name="Aim"/>
         <Component Name="Trim">
          <Component Name="Gain"/>
          <Component Name="Minimum">
           <Component Name="Value"/>
          </Component>
          <Component Name="Maximum">
           <Component Name="Value"/>
          </Component>
          <Component Name="Average">
           <Component Name="Gain"/>
           <Component Name="Decay"/>
          </Component>
         </Component>
         <Component Name="Bank 1">
          <Component Name="Feedback">
           <Component Name="Value"/>
          </Component>
          <Component Name="Trim">
           <Component Name="Value"/>
           <Component Name="Average"/>
          </Component>
          <Component Name="Diagnostic"/>
          <Component Name="State"/>
          <Component Name="Calculation"/>
         </Component>
         <Component Name="Bank 2">
          <Component Name="Feedback">
           <Component Name="Value"/>
          </Component>
          <Component Name="Trim">
           <Component Name="Value"/>
           <Component Name="Average"/>
          </Component>
          <Component Name="Diagnostic"/>
          <Component Name="State"/>
          <Component Name="Calculation"/>
         </Component>
        </Component>
        <Component Name="Init"/>
        <Component Name="Timer">
         <Component Name="Start"/>
         <Component Name="Remaining"/>
        </Component>
        <Component Name="SetEnable"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <ModuleGroup Name="Upcoming"/>
    <ModuleGroup Name="Upcoming.Fuel"/>
    <Module Base="BuiltIn.GroupCompound" Name="Upcoming.Fuel.Single Port Injector with Idle">
     <BuildHelp>
<![CDATA[<P>This module implements an individual fuel output with the following features:</P>
<UL>
<LI>Volume based fuel output 
<LI>Individual Cylinder Trim Table 
<LI>Injector Calibration table and Reference Pressure</LI></UL>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="Aim" Creation="Custom" Visible="1" TargetCpt="This.Aim" TargetRef="Target" DisplayName="Aim"/>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Differential Pressure" Creation="Custom" Visible="1" TargetCpt="This.Injector.Differential Pressure" TargetRef="Target" DisplayName="Differential Pressure"/>
         <Property Name="ECU Supply" Creation="Custom" Visible="1" TargetCpt="This.Injector.ECU Supply" TargetRef="Target" DisplayName="ECU Supply"/>
         <Property Name="Hold Current" Creation="Custom" Visible="1" TargetCpt="This.Pin.Hold Current" TargetRef="Target" DisplayName="Hold Current"/>
         <Property Name="Idle Average Integral" Creation="Custom" Visible="1" TargetCpt="This.Injector.Trim.Idle.Average Integral" TargetRef="Target" DisplayName="Idle Average Integral"/>
         <Property Name="Idle Integral" Creation="Custom" Visible="1" TargetCpt="This.Injector.Trim.Idle.Integral" TargetRef="Target" DisplayName="Idle Integral"/>
         <Property Name="Idle Mode" Creation="Custom" Visible="1" TargetCpt="This.Injector.Trim.Idle.Mode" TargetRef="Target" DisplayName="Idle Mode"/>
         <Property Name="Injector Delay" Creation="Custom" Visible="1" TargetCpt="This.Output.Injector Delay" TargetRef="Target" DisplayName="Injector Delay"/>
         <Property Name="Injector Flow Display Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Flow" TargetRef="Locale.Default.Max" DisplayName="Injector Flow Display Max"/>
         <Property Name="Injector Linearisation Validation Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Injector Linearisation Validation Max"/>
         <Property Name="Lambda" Creation="Custom" Visible="1" TargetCpt="This.Lambda" TargetRef="Target" DisplayName="Lambda"/>
         <Property Name="Limit Angle" Creation="Custom" Visible="1" TargetCpt="This.Output.Limit Angle" TargetRef="Target" DisplayName="Limit Angle"/>
         <Property Name="Linearisation Battery Voltage Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Linearisation Battery Voltage Axis Max Sites"/>
         <Property Name="Linearisation Pressure Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Linearisation Pressure Axis Max Sites"/>
         <Property Name="Linearisation Pulse Volume Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Linearisation Pulse Volume Axis Max Sites"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Off Time" Creation="Custom" Visible="1" TargetCpt="This.Output.Off Time" TargetRef="Target" DisplayName="Off Time"/>
         <Property Name="Output Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Output Diagnostic Diagnostic Log Rate"/>
         <Property Name="Output Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Output Diagnostic Logging"/>
         <Property Name="Output Enable" Creation="Custom" Visible="1" TargetCpt="This.Output.Enable" TargetRef="Target" DisplayName="Output Enable"/>
         <Property Name="Output Pulse Edge" Creation="Custom" Visible="1" TargetCpt="This.Output.Pulse Edge" TargetRef="Target" DisplayName="Output Pulse Edge"/>
         <Property Name="Peak Current" Creation="Custom" Visible="1" TargetCpt="This.Pin.Peak Current" TargetRef="Target" DisplayName="Peak Current"/>
         <Property Name="Pin Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Pin.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Pin Diagnostic Diagnostic Log Rate"/>
         <Property Name="Pin Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Pin.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Pin Diagnostic Logging"/>
         <Property Name="Pin Drive" Creation="Custom" Visible="1" TargetCpt="This.Pin.Drive" TargetRef="Target" DisplayName="Pin Drive"/>
         <Property Name="Pulse Angle" Creation="Custom" Visible="1" TargetCpt="This.Output.Pulse Angle 1" TargetRef="Target" DisplayName="Pulse Angle"/>
         <Property Name="Pulse Request" Creation="Custom" Visible="1" TargetCpt="This.Pulse.Request" TargetRef="Target" DisplayName="Pulse Request"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="Top Dead Centre" Creation="Custom" Visible="1" TargetCpt="This.Output.Top Dead Centre" TargetRef="Target" DisplayName="Top Dead Centre"/>
         <Property Name="Trim Event" Creation="Custom" Visible="1" TargetCpt="This.Injector.Trim.Script" TargetRef="SelectedTrigger" DisplayName="Trim Event"/>
         <Property Name="Trim Integral Gain" Creation="Custom" Visible="1" TargetCpt="This.Injector.Trim.Integral.Gain" TargetRef="Target" DisplayName="Trim Integral Gain"/>
         <Property Name="Trim Integral Maximum" Creation="Custom" Visible="1" TargetCpt="This.Injector.Trim.Integral.Maximum" TargetRef="Target" DisplayName="Trim Integral Maximum"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="1"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Lambda">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda input.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Aim">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda aim value.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Limit Angle"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Delivered"/>
       <Component Classname="_IOMethod.abs" Name="Base.Voltage">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the connector pin voltage measurement</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Output">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the calculation that generated the output waveform.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Pin.Diagnostic"/>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Pin.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="_IOMethod.INJ_PH_IO" Name="Base.Pin">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the electrical properties of the output.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="$(Parent.Absolute:ValMax)">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Update"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Release"/>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal volume to deliver to the cylinder to achieve the desired mixture. This value is
                    modified by the per-cylinder trim to compensate for individual cylinder variation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Injector.Linearisation">
        <Props NumAxes="3">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
          <Z Source="Parent.ECU Supply" MandatoryTune="true"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width</i> when <i class="package_help">Output Volume</i> is beyond the
                    maximum site on the <i class="package_help">Linearisation</i> table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the output pulse volume is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i>.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+003" ValMax="1.00000000000000000e+006" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Trim">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="2.00000000000000000e+000" TargetCreation="AutoConst" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The adjustment to the requested pulse to compensate for individual cylinder effects.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="1.00000000000000000e+006">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Output.Resource.Value"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CglpZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgSW5qZWN0b3IuVHJpbTsgLy8gV2hvbGUgcHVsc2UgZGVmaW5lZCBieSB0aGUgbGluZWFyaXNhdGlvbiB0YWJsZQoJfQoJZWxzZQoJewoJCU91dHB1dC5QdWxzZSBXaWR0aCAxID0gSW5qZWN0b3IuTGluZWFyaXNhdGlvbiArIEluamVjdG9yLlRyaW0gKyAoT3V0cHV0LlB1bHNlIFZvbHVtZSAtIFRhYmxlVm9sdW1lTWF4aW11bSkgLyBJbmplY3Rvci5GbG93OwoJfQp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.MethodUser" Name="Base.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFB1bHNlLlJlcXVlc3QgKiBQdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.ECU Supply">
        <Props Qty="V" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="$(Parent.Parent.Voltage.Absolute:ValMax)">
         <Locale>
          <Default DPS="$(Parent.Parent.Voltage.Absolute:Locale.Default.DPS)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The voltage supply for the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetStatus"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Pin.Drive"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Pin.Hold Current"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Pin.Peak Current"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Pulse.Trim.Value">
        <Props Value="1.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Trim.Integral.Gain">
        <Props Qty="gain" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="ugain"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector.Trim.Integral">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Trim.Idle.Integral">
        <Props Qty="rad">
         <Locale>
          <Default Unit="dBTDC"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Trim.Idle.Average Integral">
        <Props Qty="rad">
         <Locale>
          <Default Unit="dBTDC"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Trim.Idle.Mode">
        <Props Type="MoTeC Types.Mode Enumeration"/>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector.Trim.Idle">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Injector.Trim.Value">
        <Props Qty="s" Storage="Flash">
         <Locale>
          <Default Unit="us" Min="0.00000000000000000e+000" Max="5.00000000000000010e-004"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector.Trim">
        <Props UseDefValue="true" DefValue="This.Value"/>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Trim.Integral.Maximum">
        <Props Qty="s" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false">
         <Locale>
          <Default Unit="us"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Injector.Trim.Script">
        <Code Encoding="base64">
<![CDATA[bG9jYWwgZXQgPSBTeXN0ZW0uRWxhcHNlZFRpbWUoKTsKCmlmIChUaGlzLkludGVncmFsLkdhaW4gPD0gMC4wKQp7CglWYWx1ZSA9IDAuMDsKfQplbHNlCnsKCXdoZW4gKElkbGUuTW9kZSkKCXsKCQlpcyAoRW5hYmxlZCkKCQl7CgkJCWlmIChub3QgQ2FsY3VsYXRlLklzTkFOKElkbGUuQXZlcmFnZSBJbnRlZ3JhbCkgYW5kCgkJCQlub3QgQ2FsY3VsYXRlLklzTkFOKElkbGUuSW50ZWdyYWwpCgkJCSkKCQkJewoJCQkJbG9jYWwgZXJyID0gSWRsZS5BdmVyYWdlIEludGVncmFsIC0gSWRsZS5JbnRlZ3JhbDsKCQkJCVZhbHVlID0gTGltaXQuUmFuZ2UoCgkJCQkJVmFsdWUgKyAoVGhpcy5JbnRlZ3JhbC5HYWluICogZXJyICogZXQpLAoJCQkJCTAuMCwKCQkJCQlUaGlzLkludGVncmFsLk1heGltdW0KCQkJCSk7CgkJCX0KCQl9CgkJaXMgKERpc2FibGVkKQoJCXsKCQkJLyoKCQkJICogSG9sZCB0cmltIHZhbHVlCgkJCSAqLwoJCX0KCX0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 2">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 2">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 2.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Pulse Index"/>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Lambda"/>
        <Component Name="Aim"/>
        <Component Name="Pulse">
         <Component Name="Request"/>
         <Component Name="Trim">
          <Component Name="Value"/>
         </Component>
        </Component>
        <Component Name="Injector">
         <Component Name="Linearisation">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Flow"/>
         <Component Name="Trim">
          <Component Name="Value"/>
          <Component Name="Idle">
           <Component Name="Mode"/>
           <Component Name="Average Integral"/>
           <Component Name="Integral"/>
          </Component>
          <Component Name="Integral">
           <Component Name="Gain"/>
           <Component Name="Maximum"/>
          </Component>
          <Component Name="Script"/>
         </Component>
         <Component Name="Minimum Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Flow">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Pressure">
          <Component Name="Value"/>
         </Component>
         <Component Name="Differential Pressure"/>
         <Component Name="ECU Supply"/>
        </Component>
        <Component Name="Output">
         <Component Name="Diagnostic"/>
         <Component Name="Pulse Index"/>
         <Component Name="Cycle Count"/>
         <Component Name="Cycle Volume"/>
         <Component Name="Delivered"/>
         <Component Name="Pulse Edge"/>
         <Component Name="Polarity">
          <Component Name="Value"/>
         </Component>
         <Component Name="Enable"/>
         <Component Name="Top Dead Centre"/>
         <Component Name="Pulse Width 1">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 2">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 3">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 4">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Injector Delay"/>
         <Component Name="Off Time"/>
         <Component Name="Pulse Angle 1"/>
         <Component Name="Pulse Angle 2"/>
         <Component Name="Pulse Angle 3"/>
         <Component Name="Pulse Angle 4"/>
         <Component Name="Limit Angle"/>
         <Component Name="Resource">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="SetPulse"/>
         <Component Name="GetCycle"/>
         <Component Name="GetStatus"/>
        </Component>
        <Component Name="Pin">
         <Component Name="Diagnostic"/>
         <Component Name="Drive"/>
         <Component Name="Peak Current"/>
         <Component Name="Hold Current"/>
         <Component Name="Resource"/>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="Voltage">
         <Component Name="Absolute Filtered"/>
         <Component Name="Absolute"/>
         <Component Name="Filter">
          <Component Name="Value"/>
         </Component>
         <Component Name="Resource"/>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="VolumeCalculation"/>
        <Component Name="Calculation"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <ModuleGroup Name="Old"/>
    <ModuleGroup Name="Old.Fuel"/>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Single Direct Injector">
     <BuildHelp>
<![CDATA[<P>This class implements an individual fuel output with the following features:</P>
<UL>
<LI>Volume based fuel output 
<LI>Individual Cylinder Trim Table 
<LI>Injector Calibration table and Reference Pressure</LI></UL>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Injector Differential Pressure Display Unit" Creation="Custom" Visible="1" TargetCpt="This.Injector.Differential Pressure" TargetRef="Locale.Default.Unit" DisplayName="Injector Differential Pressure Display Unit"/>
         <Property Name="Injector Differential Pressure Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Injector.Differential Pressure" TargetRef="ValMax" DisplayName="Injector Differential Pressure Validation Maximum Value"/>
         <Property Name="Injector Flow Display Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Flow" TargetRef="Locale.Default.Max" DisplayName="Injector Flow Display Max"/>
         <Property Name="Injector Linearisation Validation Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Injector Linearisation Validation Max"/>
         <Property Name="Linearisation X Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Linearisation X Axis Max Sites"/>
         <Property Name="Linearisation Y Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Linearisation Y Axis Max Sites"/>
         <Property Name="Linearisation Z Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Linearisation Z Axis Max Sites"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Output Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Output Diagnostic Diagnostic Log Rate"/>
         <Property Name="Output Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Output Diagnostic Logging"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="1"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Voltage" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Lambda" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Aim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Request" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Film.Deposit" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Film.Consume" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Lambda">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda input.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Aim">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda aim value.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Limit Angle"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Delivered"/>
       <Component Classname="_IOMethod.abs" Name="Base.Voltage">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the connector pin voltage measurement.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Output">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the calculation that generated the output waveform.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="$(Parent.Absolute:ValMax)">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Release"/>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal volume to deliver to the cylinder to achieve the desired mixture. This value is
                    modified by the per-cylinder trim to compensate for individual cylinder variation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Injector.Linearisation">
        <Props NumAxes="2">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width</i> when <i class="package_help">Output Volume</i> is beyond the
                    maximum site on the <i class="package_help">Linearisation</i> table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the output pulse volume is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i>.</p>
                  <p class="package_help">This is part of the injector calibration.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+006" ValMax="$(Parent.Differential Pressure:ValMax)" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="$(Parent.Differential Pressure:Locale.Default.Unit)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Trim">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="2.00000000000000000e+000" TargetCreation="AutoConst" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The adjustment to the requested pulse to compensate for individual cylinder effects.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="2.00000000000000000e+007">
         <Locale>
          <Default Unit="dMPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Output.Resource.Value"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CglpZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uOyAvLyBXaG9sZSBwdWxzZSBkZWZpbmVkIGJ5IHRoZSBsaW5lYXJpc2F0aW9uIHRhYmxlCgl9CgllbHNlCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgKE91dHB1dC5QdWxzZSBWb2x1bWUgLSBUYWJsZVZvbHVtZU1heGltdW0pIC8gSW5qZWN0b3IuRmxvdzsKCX0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Pulse.Trim.Value">
        <Props Value="1.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.MethodUser" Name="Base.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFB1bHNlLlJlcXVlc3QgKiBQdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetStatus"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 2">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 2">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 2.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Pulse Index"/>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Lambda"/>
        <Component Name="Aim"/>
        <Component Name="Pulse">
         <Component Name="Request"/>
         <Component Name="Trim">
          <Component Name="Value"/>
         </Component>
        </Component>
        <Component Name="Injector">
         <Component Name="Linearisation">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Flow"/>
         <Component Name="Minimum Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Flow">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Pressure">
          <Component Name="Value"/>
         </Component>
         <Component Name="Differential Pressure"/>
        </Component>
        <Component Name="Output">
         <Component Name="Diagnostic"/>
         <Component Name="Pulse Index"/>
         <Component Name="Cycle Count"/>
         <Component Name="Cycle Volume"/>
         <Component Name="Delivered"/>
         <Component Name="Pulse Edge"/>
         <Component Name="Polarity">
          <Component Name="Value"/>
         </Component>
         <Component Name="Enable"/>
         <Component Name="Top Dead Centre"/>
         <Component Name="Pulse Width 1">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 2">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 3">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 4">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Injector Delay"/>
         <Component Name="Off Time"/>
         <Component Name="Pulse Angle 1"/>
         <Component Name="Pulse Angle 2"/>
         <Component Name="Pulse Angle 3"/>
         <Component Name="Pulse Angle 4"/>
         <Component Name="Limit Angle"/>
         <Component Name="Resource">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="SetPulse"/>
         <Component Name="GetCycle"/>
         <Component Name="GetStatus"/>
        </Component>
        <Component Name="Voltage">
         <Component Name="Absolute Filtered"/>
         <Component Name="Absolute"/>
         <Component Name="Filter">
          <Component Name="Value"/>
         </Component>
         <Component Name="Resource"/>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="VolumeCalculation"/>
        <Component Name="Calculation"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Multipulse Direct Injector">
     <BuildHelp>
<![CDATA[<P>This class implements an individual fuel output with the following features:</P>
<UL>
<LI>Volume based fuel output 
<LI>Individual Cylinder Trim Table 
<LI>Injector Calibration table and Reference Pressure 
<LI>Multi-pulse support</LI></UL>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Injector Differential Pressure Display Unit" Creation="Custom" Visible="1" TargetCpt="This.Injector.Differential Pressure" TargetRef="Locale.Default.Unit" DisplayName="Injector Differential Pressure Display Unit"/>
         <Property Name="Injector Differential Pressure Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Injector.Differential Pressure" TargetRef="ValMax" DisplayName="Injector Differential Pressure Validation Maximum Value"/>
         <Property Name="Injector Flow Display Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Flow" TargetRef="Locale.Default.Max" DisplayName="Injector Flow Display Max"/>
         <Property Name="Injector Linearisation Validation Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Injector Linearisation Validation Max"/>
         <Property Name="Linearisation X Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Linearisation X Axis Max Sites"/>
         <Property Name="Linearisation Y Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Linearisation Y Axis Max Sites"/>
         <Property Name="Linearisation Z Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Linearisation Z Axis Max Sites"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Output Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Output Diagnostic Diagnostic Log Rate"/>
         <Property Name="Output Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Output Diagnostic Logging"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="1"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse Volume 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse Volume 2" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse Volume 3" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse Volume 4" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Volume" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 2" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 3" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 4" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Voltage" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Limit Angle"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Volume"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Delivered"/>
       <Component Classname="_IOMethod.abs" Name="Base.Voltage">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the connector pin voltage measurement.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Output">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the calculation that generated the output waveform.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="$(Parent.Absolute:ValMax)">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Release"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse Volume 1">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The volume to deliver to the cylinder in <i class="package_help">Output Pulse Width 1</i>.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Injector.Linearisation">
        <Props NumAxes="2">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Pulse Volume 1"/>
          <Y Source="Parent.Differential Pressure"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>
                  <p class="package_help">The Linearisation channels is calculated for Pulse Volume 1. The table is interpolated again for
                    the other three pulse volumes.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width</i> when <i class="package_help">Output Volume</i> is beyond the
                    maximum site on the <i class="package_help">Linearisation</i> table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the <i class="package_help">Output Pulse Volume</i> is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i></p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+006" ValMax="$(Parent.Differential Pressure:ValMax)" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="$(Parent.Differential Pressure:Locale.Default.Unit)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="2.00000000000000000e+007">
         <Locale>
          <Default Unit="dMPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Output.Resource.Value"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7Cgpsb2NhbCBUYWJsZVZvbHVtZU1heGltdW0gPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uLlhBeGlzTWF4aW11bSgpOwoKaWYgKFB1bHNlIFZvbHVtZSAxIDw9IEluamVjdG9yLk1pbmltdW0gVm9sdW1lKSAvKiBNaW5pbXVtIG1heSBiZSAwICovCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWlmIChQdWxzZSBWb2x1bWUgMSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uOyAvKiBXaG9sZSBwdWxzZSBkZWZpbmVkIGJ5IHRoZSBsaW5lYXJpc2F0aW9uIHRhYmxlICovCgl9CgllbHNlCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgKFB1bHNlIFZvbHVtZSAxIC0gVGFibGVWb2x1bWVNYXhpbXVtKSAvIEluamVjdG9yLkZsb3c7Cgl9Cn0KCmV4cGFuZCAobiA9IDIgdG8gNCkKewoJaWYgKFB1bHNlIFZvbHVtZSAkKG4pIDw9IEluamVjdG9yLk1pbmltdW0gVm9sdW1lKQoJewoJCSBPdXRwdXQuUHVsc2UgV2lkdGggJChuKSA9IDAuMDsKCX0KCWVsc2UKCXsKCQlsb2NhbCBwdWxzZUxpbmVhcmlzYXRpb24gPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uLkxvb2t1cChQdWxzZSBWb2x1bWUgJChuKSwgSW5qZWN0b3IuRGlmZmVyZW50aWFsIFByZXNzdXJlKTsKCQlpZiAoUHVsc2UgVm9sdW1lICQobikgPD0gVGFibGVWb2x1bWVNYXhpbXVtKQoJCXsKCQkJT3V0cHV0LlB1bHNlIFdpZHRoICQobikgPSBwdWxzZUxpbmVhcmlzYXRpb247CgkJfQoJCWVsc2UKCQl7CgkJCU91dHB1dC5QdWxzZSBXaWR0aCAkKG4pID0gcHVsc2VMaW5lYXJpc2F0aW9uICsgKFB1bHNlIFZvbHVtZSAkKG4pIC0gVGFibGVWb2x1bWVNYXhpbXVtKSAvIEluamVjdG9yLkZsb3c7CgkJfQoJfQp9]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetStatus"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 4">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 2">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 3">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 2"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 3"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 4"/>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse Volume 3">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The volume to deliver to the cylinder in <i class="package_help">Output Pulse Width 3</i>.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse Volume 4">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The volume to deliver to the cylinder in <i class="package_help">Output Pulse Width 4</i>.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 3.Value"/>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 4.Value"/>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 2.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse Volume 2">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The volume to deliver to the cylinder in <i class="package_help">Output Pulse Width 2</i>.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Pulse Index"/>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Pulse Volume 1"/>
        <Component Name="Pulse Volume 2"/>
        <Component Name="Pulse Volume 3"/>
        <Component Name="Pulse Volume 4"/>
        <Component Name="Injector">
         <Component Name="Linearisation">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Flow"/>
         <Component Name="Minimum Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Flow">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Pressure">
          <Component Name="Value"/>
         </Component>
         <Component Name="Differential Pressure"/>
        </Component>
        <Component Name="Output">
         <Component Name="Diagnostic"/>
         <Component Name="Pulse Index"/>
         <Component Name="Cycle Count"/>
         <Component Name="Cycle Volume"/>
         <Component Name="Delivered"/>
         <Component Name="Pulse Edge"/>
         <Component Name="Polarity">
          <Component Name="Value"/>
         </Component>
         <Component Name="Enable"/>
         <Component Name="Top Dead Centre"/>
         <Component Name="Pulse Width 1">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 2">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 3">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 4">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Volume"/>
         <Component Name="Injector Delay"/>
         <Component Name="Off Time"/>
         <Component Name="Pulse Angle 1"/>
         <Component Name="Pulse Angle 2"/>
         <Component Name="Pulse Angle 3"/>
         <Component Name="Pulse Angle 4"/>
         <Component Name="Limit Angle"/>
         <Component Name="Resource">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="SetPulse"/>
         <Component Name="GetCycle"/>
         <Component Name="GetStatus"/>
        </Component>
        <Component Name="Voltage">
         <Component Name="Absolute Filtered"/>
         <Component Name="Absolute"/>
         <Component Name="Filter">
          <Component Name="Value"/>
         </Component>
         <Component Name="Resource"/>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="Calculation"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Direct plus Port Injector">
     <BuildHelp>
<![CDATA[<P>This class implements a combined Direct injector and Port injector fuel output with the following features:</P>
<UL>
<LI>Volume based fuel output 
<LI>Individual Cylinder Trim Table 
<LI>Injector Calibration table</LI></UL>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Calculation Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Direct.Calculation" TargetRef="SelectedTrigger" DisplayName="Calculation Selected Event"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Direct Injector Differential Pressure Display Unit" Creation="Custom" Visible="1" TargetCpt="This.Direct.Injector.Differential Pressure" TargetRef="Locale.Default.Unit" DisplayName="Direct Injector Differential Pressure Display Unit"/>
         <Property Name="Direct Injector Differential Pressure Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Direct.Injector.Differential Pressure" TargetRef="ValMax" DisplayName="Direct Injector Differential Pressure Validation Maximum Value"/>
         <Property Name="Direct Injector Linearisation Validation Maximum" Creation="Custom" Visible="1" TargetCpt="This.Direct.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Direct Injector Linearisation Validation Maximum"/>
         <Property Name="Direct Injector Linearisation X Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Direct.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Direct Injector Linearisation X Axis Maximum Sites"/>
         <Property Name="Direct Injector Linearisation Y Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Direct.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Direct Injector Linearisation Y Axis Maximum Sites"/>
         <Property Name="Direct Injector Linearisation Z Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Direct.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Direct Injector Linearisation Z Axis Maximum Sites"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Port Injector Differential Pressure Display Unit" Creation="Custom" Visible="1" TargetCpt="This.Port.Injector.Differential Pressure" TargetRef="Locale.Default.Unit" DisplayName="Port Injector Differential Pressure Display Unit"/>
         <Property Name="Port Injector Differential Pressure Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Port.Injector.Differential Pressure" TargetRef="ValMax" DisplayName="Port Injector Differential Pressure Validation Maximum Value"/>
         <Property Name="Port Injector Linearisation Validation Maximum" Creation="Custom" Visible="1" TargetCpt="This.Port.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Port Injector Linearisation Validation Maximum"/>
         <Property Name="Port Injector Linearisation X Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Port.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Port Injector Linearisation X Axis Maximum Sites"/>
         <Property Name="Port Injector Linearisation Y Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Port.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Port Injector Linearisation Y Axis Maximum Sites"/>
         <Property Name="Port Injector Linearisation Z Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Port.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Port Injector Linearisation Z Axis Maximum Sites"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="0"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Lambda" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Mixture Aim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Pulse.Request" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Injector.Reference Flow" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Injector.Reference Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Pulse.Request" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Injector.Reference Flow" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Injector.Reference Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Direct.Output.Polarity" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Port.Injector.Battery Voltage" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Direct">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Port">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Port.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Port.Injector.Linearisation">
        <Props NumAxes="3">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
          <Z Source="Parent.Battery Voltage" MandatoryTune="true"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Lambda">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda input.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Mixture Aim">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda aim value.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="_IOMethod.abs" Name="Base.Direct.Voltage">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Output.Delivered"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Port.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="_IOMethod.abs" Name="Base.Port.Voltage">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Port.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Port.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Direct.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Output.Release"/>
       <Component Classname="BuiltIn.Parameter" Name="Base.Direct.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Voltage.Absolute"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Voltage.Absolute Filtered"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.80000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.80000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Voltage.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Voltage.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Voltage.Reserve"/>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Direct.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFRoaXMuUHVsc2UuUmVxdWVzdCAqIFBhcmVudC5QdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Width 2">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Port.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Angle 2">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Constant" Name="Base.Direct.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Port.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Port.Output.Pulse Width 2.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Port.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Port.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Limit Angle"/>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Direct.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Direct.Output.GetStatus"/>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Direct.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CglpZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uOyAvLyBXaG9sZSBwdWxzZSBkZWZpbmVkIGJ5IHRoZSBsaW5lYXJpc2F0aW9uIHRhYmxlCgl9CgllbHNlCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgKE91dHB1dC5QdWxzZSBWb2x1bWUgLSBUYWJsZVZvbHVtZU1heGltdW0pIC8gSW5qZWN0b3IuRmxvdzsKCX0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Trim">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="2.00000000000000000e+000" TargetCreation="AutoConst" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The adjustment to the requested pulse to compensate for individual cylinder effects.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Port.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Port.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal volume to deliver to the cylinder to achieve the desired mixture. This value is
                    modified by the per-cylinder trim to compensate for individual cylinder variation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Pulse.Trim.Value">
        <Props Value="1.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.CalFuncUser" Name="Base.Pulse.Trim.Quick Lambda">
        <Code Encoding="base64">
<![CDATA[aWYgKExhbWJkYSA8IDAuNiBvciBMYW1iZGEgPiAyLjApCnsKICAgIC8vIExhbWJkYSBvdXQgb2YgcmFuZ2UKICAgIFVJLlByb21wdE9LKAoJCSJRdWljayBMYW1iZGEiLAogICAgICAgICJMYW1iZGEgU2Vuc29yIEVycm9yIgogICAgKTsKfQplbHNlIGlmIChNaXh0dXJlIEFpbSA8IDAuNikgLyogVXNlIE1haW4gYXMgJ0xhbWJkYSBXYXMnIGNhbiBjYWxjdWxhdGUgdGhpcyAqLwp7CiAgICAvLyBiYWQgZnVlbCBhaW0KICAgIFVJLlByb21wdE9LKAogICAgICAgICJRdWljayBMYW1iZGEiLAogICAgICAgICJMYW1iZGEgQWltIEVycm9yIgogICAgKTsKfQplbHNlCnsKICAgIGxvY2FsIG5ldyA9IFRoaXMgKiBMYW1iZGEgLyBNaXh0dXJlIEFpbTsKICAgIGlmIChUaGlzLlZhbGlkYXRlKG5ldykpCiAgICB7CiAgICAgICAgLy8gbmV3IHZhbHVlIGlzIHZhbGlkIHNvIHNldCBhbmQgbWFyayBzaXRlIGFzIGFkanVzdGVkCiAgICAgICAgVGhpcyA9IG5ldzsKICAgICAgICB0aGlzLk1hcmsodHJ1ZSk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgLy8gbmV3IHZhbHVlIGlzIG91dCBvZiByYW5nZSBzbyBjbGFtcCBhbmQgcmVwb3J0IGEgbWVzc2FnZQogICAgICAgIFRoaXMgPSBUaGlzLkNsYW1wKG5ldyk7CiAgICAgICAgVGhpcy5NYXJrKGZhbHNlKTsKICAgICAgICBVSS5Qcm9tcHRPSygKICAgICAgICAgICAgIlF1aWNrIExhbWJkYSIsCiAgICAgICAgICAgICJSZXN1bHQgQ2xhbXBlZCIKICAgICAgICApOyAgICAgICAKICAgIH0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Direct.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Port.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Port.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Port.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width</i> when <i class="package_help">Output Volume</i> is beyond the
                    maximum site on the <i class="package_help">Linearisation</i> table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Port.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i>.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Port.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Port.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+003" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Port.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Port.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="1.00000000000000000e+006">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Port.Injector.Battery Voltage">
        <Props Qty="V" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="$(Parent.Parent.Voltage.Absolute:ValMax)">
         <Locale>
          <Default DPS="$(Parent.Parent.Voltage.Absolute:Locale.Default.DPS)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The voltage supply for the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Port.Output">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the calculation that generated the output waveform.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Direct.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal volume to deliver to the cylinder to achieve the desired mixture. This value is
                    modified by the per-cylinder trim to compensate for individual cylinder variation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Direct.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Direct.Injector.Linearisation">
        <Props NumAxes="2">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Direct.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Direct.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Direct.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width</i> when <i class="package_help">Output Volume</i> is beyond the
                    maximum site on the <i class="package_help">Linearisation</i> table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Direct.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i>.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Direct.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Direct.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+006" ValMax="$(Parent.Differential Pressure:ValMax)" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="$(Parent.Differential Pressure:Locale.Default.Unit)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Direct.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="2.00000000000000000e+007">
         <Locale>
          <Default Unit="dMPa"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Direct.Output">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the calculation that generated the output waveform.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Output.Delivered"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Limit Angle"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Port.Output.Resource.Value"/>
       <Component Classname="BuiltIn.Channel" Name="Base.Direct.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Direct.Output.Resource.Value"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Output.Initialise"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Width 2">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Direct.Output.Pulse Width 2.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Port.Output.GetStatus"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Direct.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Direct.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Direct.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Angle 2">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Port.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFRoaXMuUHVsc2UuUmVxdWVzdCAqIFBhcmVudC5QdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Port.Calculation">
        <Props SelectedTrigger="$(Parent.Parent.Direct.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CglpZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uOyAvLyBXaG9sZSBwdWxzZSBkZWZpbmVkIGJ5IHRoZSBsaW5lYXJpc2F0aW9uIHRhYmxlCgl9CgllbHNlCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgKE91dHB1dC5QdWxzZSBWb2x1bWUgLSBUYWJsZVZvbHVtZU1heGltdW0pIC8gSW5qZWN0b3IuRmxvdzsKCX0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Direct.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Direct.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Port.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Port.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Direct.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.Parameter" Name="Base.Port.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Port.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the Output Pulse Volume is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Direct.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the Output Pulse Volume is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Port.Output.Pulse Index"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Direct.Output.Pulse Index"/>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Lambda"/>
        <Component Name="Mixture Aim"/>
        <Component Name="Pulse">
         <Component Name="Trim">
          <Component Name="Value"/>
          <Component Name="Quick Lambda"/>
         </Component>
        </Component>
        <Component Name="Direct">
         <Component Name="Pulse">
          <Component Name="Request"/>
         </Component>
         <Component Name="Injector">
          <Component Name="Linearisation">
           <Component Name="Value"/>
           <Component Name="Init"/>
           <Component Name="Update"/>
          </Component>
          <Component Name="Flow"/>
          <Component Name="Minimum Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Flow">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Pressure">
           <Component Name="Value"/>
          </Component>
          <Component Name="Differential Pressure"/>
         </Component>
         <Component Name="Output">
          <Component Name="Diagnostic"/>
          <Component Name="Pulse Index"/>
          <Component Name="Cycle Count"/>
          <Component Name="Cycle Volume"/>
          <Component Name="Delivered"/>
          <Component Name="Pulse Edge"/>
          <Component Name="Polarity">
           <Component Name="Value"/>
          </Component>
          <Component Name="Enable"/>
          <Component Name="Top Dead Centre"/>
          <Component Name="Pulse Width 1">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 2">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 3">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 4">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Injector Delay"/>
          <Component Name="Off Time"/>
          <Component Name="Pulse Angle 1"/>
          <Component Name="Pulse Angle 2"/>
          <Component Name="Pulse Angle 3"/>
          <Component Name="Pulse Angle 4"/>
          <Component Name="Limit Angle"/>
          <Component Name="Resource">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="SetPulse"/>
          <Component Name="GetCycle"/>
          <Component Name="GetStatus"/>
         </Component>
         <Component Name="Voltage">
          <Component Name="Absolute Filtered"/>
          <Component Name="Absolute"/>
          <Component Name="Filter">
           <Component Name="Value"/>
          </Component>
          <Component Name="Resource"/>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="VolumeCalculation"/>
         <Component Name="Calculation"/>
        </Component>
        <Component Name="Port">
         <Component Name="Pulse">
          <Component Name="Request"/>
         </Component>
         <Component Name="Injector">
          <Component Name="Linearisation">
           <Component Name="Value"/>
           <Component Name="Init"/>
           <Component Name="Update"/>
          </Component>
          <Component Name="Flow"/>
          <Component Name="Minimum Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Flow">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Pressure">
           <Component Name="Value"/>
          </Component>
          <Component Name="Differential Pressure"/>
          <Component Name="Battery Voltage"/>
         </Component>
         <Component Name="Output">
          <Component Name="Diagnostic"/>
          <Component Name="Pulse Index"/>
          <Component Name="Cycle Count"/>
          <Component Name="Cycle Volume"/>
          <Component Name="Delivered"/>
          <Component Name="Pulse Edge"/>
          <Component Name="Polarity">
           <Component Name="Value"/>
          </Component>
          <Component Name="Enable"/>
          <Component Name="Top Dead Centre"/>
          <Component Name="Pulse Width 1">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 2">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 3">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 4">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Injector Delay"/>
          <Component Name="Off Time"/>
          <Component Name="Pulse Angle 1"/>
          <Component Name="Pulse Angle 2"/>
          <Component Name="Pulse Angle 3"/>
          <Component Name="Pulse Angle 4"/>
          <Component Name="Limit Angle"/>
          <Component Name="Resource">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="SetPulse"/>
          <Component Name="GetCycle"/>
          <Component Name="GetStatus"/>
         </Component>
         <Component Name="Voltage">
          <Component Name="Absolute Filtered"/>
          <Component Name="Absolute"/>
          <Component Name="Filter">
           <Component Name="Value"/>
          </Component>
          <Component Name="Resource"/>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="VolumeCalculation"/>
         <Component Name="Calculation"/>
        </Component>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Dual Port Injector">
     <BuildHelp>
<![CDATA[<P>This class implements a combined Direct injector and Port injector fuel output with the following features:</P>
<UL>
<LI>Volume based fuel output 
<LI>Individual Cylinder Trim Table 
<LI>Injector Calibration table</LI></UL>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Calculation Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Primary.Calculation" TargetRef="SelectedTrigger" DisplayName="Calculation Selected Event"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Primary Injector Differential Pressure Display Unit" Creation="Custom" Visible="1" TargetCpt="This.Primary.Injector.Differential Pressure" TargetRef="Locale.Default.Unit" DisplayName="Primary Injector Differential Pressure Display Unit"/>
         <Property Name="Primary Injector Differential Pressure Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Primary.Injector.Differential Pressure" TargetRef="ValMax" DisplayName="Primary Injector Differential Pressure Validation Maximum Value"/>
         <Property Name="Primary Injector Linearisation Value Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Primary.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Primary Injector Linearisation Value Validation Maximum Value"/>
         <Property Name="Primary Injector Linearisation X Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Primary.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Primary Injector Linearisation X Axis Maximum Sites"/>
         <Property Name="Primary Injector Linearisation Y Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Primary.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Primary Injector Linearisation Y Axis Maximum Sites"/>
         <Property Name="Primary Injector Linearisation Z Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Primary.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Primary Injector Linearisation Z Axis Maximum Sites"/>
         <Property Name="Secondary Injector Differential Pressure Display Unit" Creation="Custom" Visible="1" TargetCpt="This.Secondary.Injector.Differential Pressure" TargetRef="Locale.Default.Unit" DisplayName="Secondary Injector Differential Pressure Display Unit"/>
         <Property Name="Secondary Injector Differential Pressure Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Secondary.Injector.Differential Pressure" TargetRef="ValMax" DisplayName="Secondary Injector Differential Pressure Validation Maximum Value"/>
         <Property Name="Secondary Injector Linearisation Value Validation Maximum Value" Creation="Custom" Visible="1" TargetCpt="This.Secondary.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Secondary Injector Linearisation Value Validation Maximum Value"/>
         <Property Name="Secondary Injector Linearisation X Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Secondary.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Secondary Injector Linearisation X Axis Maximum Sites"/>
         <Property Name="Secondary Injector Linearisation Y Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Secondary.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Secondary Injector Linearisation Y Axis Maximum Sites"/>
         <Property Name="Secondary Injector Linearisation Z Axis Maximum Sites" Creation="Custom" Visible="1" TargetCpt="This.Secondary.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Secondary Injector Linearisation Z Axis Maximum Sites"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="0"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Lambda" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Mixture Aim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Pulse.Request" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Injector.Reference Flow" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Injector.Reference Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Injector.Reference Flow" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Injector.Reference Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Pulse.Request" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Primary.Injector.Battery Voltage" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Secondary.Injector.Battery Voltage" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Primary">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Primary.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Primary.Injector.Linearisation">
        <Props NumAxes="3">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
          <Z Source="Parent.Battery Voltage" MandatoryTune="true"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Lambda">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda input.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Mixture Aim">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<p class="package_help">Lambda aim value.</p>
                  <p class="package_help">Used for quick lambda calculation on the <i class="package_help">Trim</i> table.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Output.Delivered"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Primary.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="_IOMethod.abs" Name="Base.Primary.Voltage">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Primary.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Primary.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.80000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.80000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Voltage.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Width 2">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Primary.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Angle 2">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Primary.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Primary.Output.Pulse Width 2.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Primary.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Primary.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Trim">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="2.00000000000000000e+000" TargetCreation="AutoConst" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The adjustment to the requested pulse to compensate for individual cylinder effects.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Primary.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Primary.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal volume to deliver to the cylinder to achieve the desired mixture. This value is
                    modified by the per-cylinder trim to compensate for individual cylinder variation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Pulse.Trim.Value">
        <Props Value="1.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.CalFuncUser" Name="Base.Pulse.Trim.Quick Lambda">
        <Code Encoding="base64">
<![CDATA[aWYgKExhbWJkYSA8IDAuNiBvciBMYW1iZGEgPiAyLjApCnsKICAgIC8vIExhbWJkYSBvdXQgb2YgcmFuZ2UKICAgIFVJLlByb21wdE9LKAoJCSJRdWljayBMYW1iZGEiLAogICAgICAgICJMYW1iZGEgU2Vuc29yIEVycm9yIgogICAgKTsKfQplbHNlIGlmIChNaXh0dXJlIEFpbSA8IDAuNikgLyogVXNlIE1haW4gYXMgJ0xhbWJkYSBXYXMnIGNhbiBjYWxjdWxhdGUgdGhpcyAqLwp7CiAgICAvLyBiYWQgZnVlbCBhaW0KICAgIFVJLlByb21wdE9LKAogICAgICAgICJRdWljayBMYW1iZGEiLAogICAgICAgICJMYW1iZGEgQWltIEVycm9yIgogICAgKTsKfQplbHNlCnsKICAgIGxvY2FsIG5ldyA9IFRoaXMgKiBMYW1iZGEgLyBNaXh0dXJlIEFpbTsKICAgIGlmIChUaGlzLlZhbGlkYXRlKG5ldykpCiAgICB7CiAgICAgICAgLy8gbmV3IHZhbHVlIGlzIHZhbGlkIHNvIHNldCBhbmQgbWFyayBzaXRlIGFzIGFkanVzdGVkCiAgICAgICAgVGhpcyA9IG5ldzsKICAgICAgICB0aGlzLk1hcmsodHJ1ZSk7CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAgICAgLy8gbmV3IHZhbHVlIGlzIG91dCBvZiByYW5nZSBzbyBjbGFtcCBhbmQgcmVwb3J0IGEgbWVzc2FnZQogICAgICAgIFRoaXMgPSBUaGlzLkNsYW1wKG5ldyk7CiAgICAgICAgVGhpcy5NYXJrKGZhbHNlKTsKICAgICAgICBVSS5Qcm9tcHRPSygKICAgICAgICAgICAgIlF1aWNrIExhbWJkYSIsCiAgICAgICAgICAgICJSZXN1bHQgQ2xhbXBlZCIKICAgICAgICApOyAgICAgICAKICAgIH0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Primary.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Primary.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Primary.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width when Output Volume</i> is beyond the maximum site
                    on the <i class="package_help">Linearisation</i> table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Primary.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i>.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Primary.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Primary.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+003" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Primary.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Primary.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="1.00000000000000000e+006">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Primary.Injector.Battery Voltage">
        <Props Qty="V" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="$(Parent.Parent.Voltage.Absolute:ValMax)">
         <Locale>
          <Default DPS="$(Parent.Parent.Voltage.Absolute:Locale.Default.DPS)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The voltage supply for the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Primary.Output">
        <Comment>
<![CDATA[This subsystem contain information regarding the calculation that generated the output
                  waveform.]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Limit Angle"/>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Primary.Output.Resource.Value"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Primary.Output.GetStatus"/>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Primary.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFRoaXMuUHVsc2UuUmVxdWVzdCAqIFBhcmVudC5QdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Primary.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CglpZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uOyAvLyBXaG9sZSBwdWxzZSBkZWZpbmVkIGJ5IHRoZSBsaW5lYXJpc2F0aW9uIHRhYmxlCgl9CgllbHNlCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgKE91dHB1dC5QdWxzZSBWb2x1bWUgLSBUYWJsZVZvbHVtZU1heGltdW0pIC8gSW5qZWN0b3IuRmxvdzsKCX0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Secondary">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Secondary.Pulse">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains information related to the requested fuel pulse.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Secondary.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal volume to deliver to the cylinder to achieve the desired mixture. This value is
                    modified by the per-cylinder trim to compensate for individual cylinder variation.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Secondary.Injector">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contains calculations and settings related to the fuel injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Secondary.Injector.Linearisation">
        <Props NumAxes="3">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
          <Z Source="Parent.Battery Voltage" MandatoryTune="true"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">This table defines the translation from volume to injector pulse width for the non-linear region
                    of the injector operation.</p>
                  <p class="package_help">This table can also be used as a simple dead time correction.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Secondary.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Secondary.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Secondary.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">Injector flow at <i class="package_help">Fuel Differential Pressure</i>.</p>
                  <p class="package_help">Flow is used to calculate <i class="package_help">Output Pulse Width</i> when <i class="package_help">Output Volume</i> is beyond the
                    maximum site on the Linearisation table.</p>
                  <p class="package_help">Calculated from:
                    <ul class="package_help">
                      <li class="package_help">Fuel Differential Pressure</li>
                      <li class="package_help">Injector Reference Pressure</li>
                      <li class="package_help">Injector Reference Flow</li>
                    </ul>
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Secondary.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The nominal injector flow measured at <i class="package_help">Reference Pressure</i>.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Secondary.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Secondary.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+003" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The differential fuel pressure at which <i class="package_help">Reference Flow</i> was measured.</p>
                  <p class="package_help">This is part of the injector calibration</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Secondary.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Secondary.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="1.00000000000000000e+006">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The fuel pressure across the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Secondary.Injector.Battery Voltage">
        <Props Qty="V" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="$(Parent.Parent.Voltage.Absolute:ValMax)">
         <Locale>
          <Default DPS="$(Parent.Parent.Voltage.Absolute:Locale.Default.DPS)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The voltage supply for the injector.</p>]]>
        </Comment>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Secondary.Output">
        <Comment>
<![CDATA[<p class="package_help">This subsystem contain information regarding the calculation that generated the output waveform.
                  </p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Output.Delivered"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Secondary.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Width 2">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Secondary.Output.Pulse Width 2.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Secondary.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Secondary.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Secondary.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Angle 2">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Limit Angle"/>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Secondary.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Secondary.Output.Resource.Value"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Output.GetStatus"/>
       <Component Classname="_IOMethod.abs" Name="Base.Secondary.Voltage">
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.80000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.80000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Secondary.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Secondary.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Voltage.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Secondary.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Secondary.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Parent.Primary.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFRoaXMuUHVsc2UuUmVxdWVzdCAqIFBhcmVudC5QdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Secondary.Calculation">
        <Props SelectedTrigger="$(Parent.Parent.Primary.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CglpZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSBUYWJsZVZvbHVtZU1heGltdW0pCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uOyAvLyBXaG9sZSBwdWxzZSBkZWZpbmVkIGJ5IHRoZSBsaW5lYXJpc2F0aW9uIHRhYmxlCgl9CgllbHNlCgl7CgkJT3V0cHV0LlB1bHNlIFdpZHRoIDEgPSBJbmplY3Rvci5MaW5lYXJpc2F0aW9uICsgKE91dHB1dC5QdWxzZSBWb2x1bWUgLSBUYWJsZVZvbHVtZU1heGltdW0pIC8gSW5qZWN0b3IuRmxvdzsKCX0KfQo=]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Secondary.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Primary.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Secondary.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Primary.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Secondary.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Secondary.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the Output Pulse Volume is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Primary.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Primary.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<p class="package_help">The minimum pulse volume to deliver with the injector.</p>
                  <p class="package_help">This represents the minimum practical volume the injector can deliver in a pulse. If the
                    requested volume is below this value the output pulse volume is set to 0.</p>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Primary.Output.Pulse Index"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Secondary.Output.Pulse Index"/>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Lambda"/>
        <Component Name="Mixture Aim"/>
        <Component Name="Pulse">
         <Component Name="Trim">
          <Component Name="Value"/>
          <Component Name="Quick Lambda"/>
         </Component>
        </Component>
        <Component Name="Primary">
         <Component Name="Pulse">
          <Component Name="Request"/>
         </Component>
         <Component Name="Injector">
          <Component Name="Linearisation">
           <Component Name="Value"/>
           <Component Name="Init"/>
           <Component Name="Update"/>
          </Component>
          <Component Name="Flow"/>
          <Component Name="Minimum Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Flow">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Pressure">
           <Component Name="Value"/>
          </Component>
          <Component Name="Differential Pressure"/>
          <Component Name="Battery Voltage"/>
         </Component>
         <Component Name="Output">
          <Component Name="Diagnostic"/>
          <Component Name="Pulse Index"/>
          <Component Name="Cycle Count"/>
          <Component Name="Cycle Volume"/>
          <Component Name="Delivered"/>
          <Component Name="Pulse Edge"/>
          <Component Name="Polarity">
           <Component Name="Value"/>
          </Component>
          <Component Name="Enable"/>
          <Component Name="Top Dead Centre"/>
          <Component Name="Pulse Width 1">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 2">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 3">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 4">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Injector Delay"/>
          <Component Name="Off Time"/>
          <Component Name="Pulse Angle 1"/>
          <Component Name="Pulse Angle 2"/>
          <Component Name="Pulse Angle 3"/>
          <Component Name="Pulse Angle 4"/>
          <Component Name="Limit Angle"/>
          <Component Name="Resource">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="SetPulse"/>
          <Component Name="GetCycle"/>
          <Component Name="GetStatus"/>
         </Component>
         <Component Name="Voltage">
          <Component Name="Absolute Filtered"/>
          <Component Name="Absolute"/>
          <Component Name="Filter">
           <Component Name="Value"/>
          </Component>
          <Component Name="Resource"/>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="VolumeCalculation"/>
         <Component Name="Calculation"/>
        </Component>
        <Component Name="Secondary">
         <Component Name="Pulse">
          <Component Name="Request"/>
         </Component>
         <Component Name="Injector">
          <Component Name="Linearisation">
           <Component Name="Value"/>
           <Component Name="Init"/>
           <Component Name="Update"/>
          </Component>
          <Component Name="Flow"/>
          <Component Name="Minimum Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Flow">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reference Pressure">
           <Component Name="Value"/>
          </Component>
          <Component Name="Differential Pressure"/>
          <Component Name="Battery Voltage"/>
         </Component>
         <Component Name="Output">
          <Component Name="Diagnostic"/>
          <Component Name="Pulse Index"/>
          <Component Name="Cycle Count"/>
          <Component Name="Cycle Volume"/>
          <Component Name="Delivered"/>
          <Component Name="Pulse Edge"/>
          <Component Name="Polarity">
           <Component Name="Value"/>
          </Component>
          <Component Name="Enable"/>
          <Component Name="Top Dead Centre"/>
          <Component Name="Pulse Width 1">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 2">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 3">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Width 4">
           <Component Name="Value"/>
          </Component>
          <Component Name="Pulse Volume">
           <Component Name="Value"/>
          </Component>
          <Component Name="Injector Delay"/>
          <Component Name="Off Time"/>
          <Component Name="Pulse Angle 1"/>
          <Component Name="Pulse Angle 2"/>
          <Component Name="Pulse Angle 3"/>
          <Component Name="Pulse Angle 4"/>
          <Component Name="Limit Angle"/>
          <Component Name="Resource">
           <Component Name="Value"/>
          </Component>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="SetPulse"/>
          <Component Name="GetCycle"/>
          <Component Name="GetStatus"/>
         </Component>
         <Component Name="Voltage">
          <Component Name="Absolute Filtered"/>
          <Component Name="Absolute"/>
          <Component Name="Filter">
           <Component Name="Value"/>
          </Component>
          <Component Name="Resource"/>
          <Component Name="Reserve"/>
          <Component Name="Release"/>
          <Component Name="Initialise"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="VolumeCalculation"/>
         <Component Name="Calculation"/>
        </Component>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
    <Module Base="BuiltIn.GroupCompound" Name="Fuel.Single Port Injector">
     <BuildHelp>
<![CDATA[<P>This class implements an individual fuel output with the following features:</P>
<UL>
<LI>Volume based fuel output 
<LI>Individual Cylinder Trim Table 
<LI>Injector Calibration table and Reference Pressure 
<LI>Fuel Film calculation to estimate wall wetting 
<LI>Makeup pulse generation</LI></UL>
<P>NOTE:</P>
<UL>
<LI>Makeup pulse generation is disabled if <EM>Pulse Angle</EM> 2 = <EM>Limit Angle</EM> 
<LI>Fuel Film calculation is disabled if Consume = 0 
<LI>The project must call Film.Enable().</LI></UL>
<P>Project Integration</P>
<UL>
<LI>Pulse Request: Fuel Volume 
<LI>Output Pulse Edge: Fuel Edge 
<LI>Output Pulse Angle 1: Fuel Timing 
<LI>Output Pulse Angle 2: Fuel Timing Makeup 
<LI>Output Limit Angle: Fuel Timing Limit 
<LI>Output Off Time: Fuel Injector Off Time 
<LI>Output Enable: Fuel State 
<LI>Pin Drive: Fuel Injector Pin Drive 
<LI>Pin Peak Current: Fuel Injector Peak Current 
<LI>Pin Hold Current: Fuel Injector Hold Current</LI></UL>]]>
     </BuildHelp>
     <ComponentStream>
      <List>
       <Component Classname="BuiltIn.GroupCompound" Name="Base">
        <PropVisibility>
         <Property Name="CLSID" Creation="Builtin.Default" Visible="0"/>
         <Property Name="DefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="Injector Flow Display Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Flow" TargetRef="Locale.Default.Max" DisplayName="Injector Flow Display Max"/>
         <Property Name="Injector Linearisation Validation Max" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation.Value" TargetRef="ValMax" DisplayName="Injector Linearisation Validation Max"/>
         <Property Name="Linearisation Battery Voltage Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Z.MaxSites" DisplayName="Linearisation Battery Voltage Axis Max Sites"/>
         <Property Name="Linearisation Pressure Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.Y.MaxSites" DisplayName="Linearisation Pressure Axis Max Sites"/>
         <Property Name="Linearisation Pulse Volume Axis Max Sites" Creation="Custom" Visible="1" TargetCpt="This.Injector.Linearisation" TargetRef="Axis.X.MaxSites" DisplayName="Linearisation Pulse Volume Axis Max Sites"/>
         <Property Name="Name" Creation="Builtin.Default" Visible="1"/>
         <Property Name="Output Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Output Diagnostic Diagnostic Log Rate"/>
         <Property Name="Output Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Output.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Output Diagnostic Logging"/>
         <Property Name="Pin Diagnostic Diagnostic Log Rate" Creation="Custom" Visible="1" TargetCpt="This.Pin.Diagnostic" TargetRef="DiagnosticLogRate" DisplayName="Pin Diagnostic Diagnostic Log Rate"/>
         <Property Name="Pin Diagnostic Logging" Creation="Custom" Visible="1" TargetCpt="This.Pin.Diagnostic" TargetRef="DiagnosticLog" DisplayName="Pin Diagnostic Logging"/>
         <Property Name="Selected Event" Creation="Custom" Visible="1" TargetCpt="This.Calculation" TargetRef="SelectedTrigger" DisplayName="Selected Event"/>
         <Property Name="UseDefValue" Creation="Builtin.Default" Visible="0"/>
         <Property Name="UserTags" Creation="Builtin.Default" Visible="0"/>
        </PropVisibility>
        <PropRules>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="General.Value"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Display.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="Validation.All"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="Tags"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="ChanelStorage"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="UpdateRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogging"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="CLSID" MatchPropTarget="DiagnosticLogRate"/>
         <Rule Creation="Builtin" Visible="0" MatchCptType="DefVal" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="TableNumAxes"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.X"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Y"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="Table.Axis.Z"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output" MatchPropType="Cat" MatchPropTarget="HW.Resource"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Trim" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Voltage" MatchPropType="CLSID" MatchPropTarget="XRefRelEvt"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 1" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Angle 2" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Limit Angle" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Pulse Edge" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Enable" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Top Dead Centre" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Injector Delay" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Output.Off Time" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pin.Drive" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pin.Peak Current" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pin.Hold Current" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Pulse.Request" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Lambda" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Aim" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Injector.Differential Pressure" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
         <Rule Creation="User" Visible="1" MatchCptType="Ref" MatchCptTarget="This.Injector.Battery Voltage" MatchPropType="Cat" MatchPropTarget="ValueInput.Value"/>
        </PropRules>
        <Comment>
<![CDATA[]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Lambda">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<P>Lambda input.</P>
<P>Used for quick lambda calculation on the <EM>Trim</EM> table.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Aim">
        <Props Qty="LA"/>
        <Comment>
<![CDATA[<P>Lambda aim value.</P>
<P>Used for quick lambda calculation on the <EM>Trim</EM> table.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Pulse">
        <Comment>
<![CDATA[This subsystem contains information related to the requested fuel pulse.]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Request">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="9.99999999999999950e-007">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>The nominal volume to deliver&nbsp;to the cylinder&nbsp;to achieve the desired mixture. This value is modified by the per-cylinder trim to compensate for individual cylinder variation.</P>
<P>&nbsp;</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Pulse.Trim">
        <Props Qty="ratio" Validation="MinMax" ValMin="1.00000000000000000e-002" ValMax="2.00000000000000000e+000" TargetCreation="AutoConst" Target="This.Value">
         <Locale>
          <Default Unit="%Trim"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>The adjustment to the requested pulse to compensate for individual cylinder effects.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Pulse.Trim.Value">
        <Props Value="1.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.GroupCompound" Name="Base.Injector">
        <Comment>
<![CDATA[This subsystem contains calculations and settings related to the fuel injector.]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Table" Name="Base.Injector.Linearisation">
        <Props NumAxes="3">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Axis>
          <X Source="Parent.Parent.Output.Pulse Volume"/>
          <Y Source="Parent.Differential Pressure"/>
          <Z Source="Parent.Battery Voltage" MandatoryTune="true"/>
         </Axis>
        </Props>
        <Comment>
<![CDATA[<P>This table defines the translation from volume to injector pulse width for the non-linear region of the injector operation.</P>
<P>This table can also be used as a simple dead time correction.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Injector.Linearisation.Value">
        <Props Qty="s" Validation="MinMax" ValMin="0.000000e+000" ValMax="5.00000000000000010e-003">
         <List.UserTags>
          <Entry Value="Individual"/>
         </List.UserTags>
         <Locale>
          <Default Unit="ms" DPS="3" Min="0.000000e+000" Max="2.00000000000000000e-003"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.Table.Init" Caps="AutoCreated" Name="Base.Injector.Linearisation.Init"/>
       <Component Classname="BuiltIn.FuncGenerated.Table.Lookup" Caps="AutoCreated" Name="Base.Injector.Linearisation.Update">
        <Props SelectedTrigger="$(Parent.Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Injector.Flow">
        <Props Qty="m3/s">
         <Locale>
          <Default Unit="ml/s" Min="0.00000000000000000e+000" Max="1.00000000000000010e-005"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>Injector flow at <EM>Fuel Differential Pressure</EM>.</P>
<P>Flow is used to calculate Output Pulse Width when Output Volume is beyond the maximum site on the Linearisation table.</P>
<P>Calculated from:</P>
<UL>
<LI>Fuel Differential Pressure 
<LI>Injector Reference Pressure 
<LI>Injector Reference Flow</LI></UL>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Minimum Volume">
        <Props Qty="m3" Validation="MinMax" ValMin="0.00000000000000000e+000" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ul"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>The minimum pulse volume to deliver with the injector.</P>
<P>This represents the minimum practical volume the injector can deliver in a pulse. If the requested volume is below this value the Output Pulse Volume is set to 0.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Minimum Volume.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Flow">
        <Props Qty="m3/s" Validation="MinMax" ValMin="9.99999999999999950e-008" ValMax="1.00000000000000000e-004" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="ml/s"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>The nominal injector flow&nbsp;measured at <EM>Reference Pressure</EM>&nbsp;</P>
<P>This is part of the injector calibration</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Flow.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Reference Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="1.00000000000000000e+003" ValClampMax="false" TargetCreation="AutoParam" Target="This.Value">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>The Differential fuel pressure at which <EM>Reference Flow </EM>was measured.</P>
<P>This is part of the injector calibration</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Parameter" Name="Base.Injector.Reference Pressure.Value"/>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Differential Pressure">
        <Props Qty="dPa" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="1.00000000000000000e+006">
         <Locale>
          <Default Unit="kPa g"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[<P>The fuel pressure across the injector.</P>]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Reference" Name="Base.Injector.Battery Voltage">
        <Props Qty="V" Validation="MinMax" ValMin="0.00000000000000000e+000" ValMax="$(Parent.Parent.Voltage.Absolute:ValMax)">
         <Locale>
          <Default DPS="$(Parent.Parent.Voltage.Absolute:Locale.Default.DPS)"/>
         </Locale>
        </Props>
        <Comment>
<![CDATA[The voltage supply for the injector.]]>
        </Comment>
       </Component>
       <Component Classname="_IOMethod.port" Name="Base.Output">
        <Comment>
<![CDATA[This subsystem contain information regarding the calculation that generated the output waveform.]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Diagnostic"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Pulse Index"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Count"/>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Cycle Volume">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Output.Delivered"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Edge"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Polarity">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Polarity.Value">
        <Props Value="POLARITY_NORMAL"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Enable"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Top Dead Centre"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 1">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 1.Value"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 2">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Width 2.Value"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 3">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 3.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Width 4">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Output.Pulse Width 4.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Volume">
        <Props TargetCreation="AutoChannel" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Channel" Name="Base.Output.Pulse Volume.Value">
        <Props>
         <Locale>
          <Default Min="0.00000000000000000e+000" Max="1.99999999999999990e-007"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Injector Delay"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Off Time"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 1"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 2"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 3">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Pulse Angle 4">
        <Props Target="Parent.Limit Angle"/>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Output.Limit Angle"/>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Output.Resource">
        <Props NameCreation="AutoConst" NameTarget="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceConstant" Name="Base.Output.Resource.Value"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.SetPulse">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetCycle">
        <Props SelectedTrigger="$(Parent.Parent.Calculation:SelectedTrigger)"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Output.GetStatus"/>
       <Component Classname="_IOMethod.INJ_PH_IO" Name="Base.Pin">
        <Comment>
<![CDATA[This subsystem contain information regarding the electrical properties of the output.]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Pin.Diagnostic"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Pin.Drive"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Pin.Peak Current"/>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Pin.Hold Current"/>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Pin.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Pin.Update"/>
       <Component Classname="_IOMethod.abs" Name="Base.Voltage">
        <Comment>
<![CDATA[This subsystem contain information regarding the connector pin voltage measurement]]>
        </Comment>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute Filtered">
        <Props ValClampMax="true" ValMax="$(Parent.Absolute:ValMax)">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Channel" Caps="AutoCreated" Name="Base.Voltage.Absolute">
        <Props ValClampMax="true" ValMax="2.80000000000000000e+001">
         <Locale>
          <Default Max="2.40000000000000000e+001"/>
         </Locale>
        </Props>
       </Component>
       <Component Classname="BuiltIn.Reference" Caps="AutoCreated" Name="Base.Voltage.Filter">
        <Props TargetCreation="AutoConst" Target="This.Value"/>
       </Component>
       <Component Classname="BuiltIn.Constant" Name="Base.Voltage.Filter.Value">
        <Props Value="0.00000000000000000e+000"/>
       </Component>
       <Component Classname="BuiltIn.IOResourceValueInput" Caps="AutoCreated" Name="Base.Voltage.Resource">
        <Props NameTarget="Parent.Parent.Output.Resource"/>
       </Component>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Reserve"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Release"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Initialise"/>
       <Component Classname="BuiltIn.FuncGenerated.IOMethod" Caps="AutoCreated" Name="Base.Voltage.Update">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.VolumeCalculation">
        <Props SelectedTrigger="$(Parent.Calculation:SelectedTrigger)">
         <List.Triggers>
          <Entry Value="res.knl.1S"/>
          <Entry Value="res.knl.500MS"/>
          <Entry Value="res.knl.200MS"/>
          <Entry Value="res.knl.100MS"/>
          <Entry Value="res.knl.50MS"/>
          <Entry Value="res.knl.20MS"/>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.2MS"/>
          <Entry Value="res.knl.1MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[LyoKICogVGhlIHBlci1jeWxpbmRlciB0cmltIGlzIGFwcGxpZWQgdG8gdGhlIHJlcXVlc3RlZCAiaWRlYWwiIHZvbHVuZSB0byBjYWxjdWxhdGUgdGhlIGN5bGluZGVyIHJlcXVpcmVtZW50cwogKi8KbG9jYWwgQmFzZVZvbHVtZSA9IFB1bHNlLlJlcXVlc3QgKiBQdWxzZS5UcmltOwoKaWYgKEJhc2VWb2x1bWUgPD0gSW5qZWN0b3IuTWluaW11bSBWb2x1bWUpIC8qIE1pbmltdW0gbWF5IGJlIDAgKi8KewoJT3V0cHV0LlB1bHNlIFZvbHVtZSA9IDAuMDsKfQplbHNlCnsKCU91dHB1dC5QdWxzZSBWb2x1bWUgPSBCYXNlVm9sdW1lOwp9Cg==]]>
        </Code>
       </Component>
       <Component Classname="BuiltIn.MethodUser" Name="Base.Calculation">
        <Props>
         <List.Triggers>
          <Entry Value="res.knl.10MS"/>
          <Entry Value="res.knl.5MS"/>
          <Entry Value="res.knl.20MS"/>
         </List.Triggers>
        </Props>
        <Code Encoding="base64">
<![CDATA[SW5qZWN0b3IuRmxvdyA9IENhbGN1bGF0ZS5GYXN0U3F1YXJlUm9vdChJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUgLyBJbmplY3Rvci5SZWZlcmVuY2UgUHJlc3N1cmUpICogSW5qZWN0b3IuUmVmZXJlbmNlIEZsb3c7CgppZiAoT3V0cHV0LlB1bHNlIFZvbHVtZSA8PSAwLjApCnsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMSA9IDAuMDsKCSBPdXRwdXQuUHVsc2UgV2lkdGggMiA9IDAuMDsKfQplbHNlCnsKCWxvY2FsIFRhYmxlVm9sdW1lTWF4aW11bSA9IEluamVjdG9yLkxpbmVhcmlzYXRpb24uWEF4aXNNYXhpbXVtKCk7CgoJLyogU2V0dXAgbWFpbiBwdWxzZSAqLwoJaWYgKE91dHB1dC5QdWxzZSBWb2x1bWUgPD0gVGFibGVWb2x1bWVNYXhpbXVtKQoJewoJCU91dHB1dC5QdWxzZSBXaWR0aCAxID0gSW5qZWN0b3IuTGluZWFyaXNhdGlvbjsgLy8gV2hvbGUgcHVsc2UgZGVmaW5lZCBieSB0aGUgbGluZWFyaXNhdGlvbiB0YWJsZQoJfQoJZWxzZQoJewoJCU91dHB1dC5QdWxzZSBXaWR0aCAxID0gSW5qZWN0b3IuTGluZWFyaXNhdGlvbiArIChPdXRwdXQuUHVsc2UgVm9sdW1lIC0gVGFibGVWb2x1bWVNYXhpbXVtKSAvIEluamVjdG9yLkZsb3c7Cgl9CgoJaWYgKE91dHB1dC5QdWxzZSBJbmRleCBlcSAxKQoJewoJCS8qCgkJICogQSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgUHVsc2UgMSBoYXMgZGVsaXZlcmVkIEN5Y2xlIFZvbHVtZSwgYnV0IHdlIGFyZSBzdGlsbCBpbiB0aGUgY3VycmVudCBjeWNsZQoJCSAqIHNvIHNldHVwIGEgbWFrZXVwIHB1bHNlIGlmIHJlcXVpcmVkCgkJICovCgkJbG9jYWwgdm9sdW1lID0gT3V0cHV0LlB1bHNlIFZvbHVtZSAtIE91dHB1dC5DeWNsZSBWb2x1bWU7CgkJaWYgKHZvbHVtZSA8PSBJbmplY3Rvci5NaW5pbXVtIFZvbHVtZSkgLyogTWluaW11bSBtYXkgYmUgMCAqLwoJCXsKCQkJT3V0cHV0LlB1bHNlIFdpZHRoIDIgPSAwLjA7CgkJfQoJCWVsc2UKCQl7CgkJCWxvY2FsIHB3ID0gSW5qZWN0b3IuTGluZWFyaXNhdGlvbi5Mb29rdXAodm9sdW1lLCBJbmplY3Rvci5EaWZmZXJlbnRpYWwgUHJlc3N1cmUsIEluamVjdG9yLkJhdHRlcnkgVm9sdGFnZSk7CQoJCQlsb2NhbCBkZWx0YVZvbHVtZSA9IHZvbHVtZSAtIFRhYmxlVm9sdW1lTWF4aW11bTsKCQkJaWYgKGRlbHRhVm9sdW1lID4gMC4wKSAvKiBiZXlvbmQgbGluZWFyaXNhdGlvbiB0YWJsZT8gKi8KCQkJewoJCQkJcHcgKz0gZGVsdGFWb2x1bWUgLyBJbmplY3Rvci5GbG93OyAvKiBFeHRyYXBvbGF0ZSAqLwoJCQl9CgkJCU91dHB1dC5QdWxzZSBXaWR0aCAyID0gcHc7CgkJfQoJfQoJZWxzZQoJewoJCU91dHB1dC5QdWxzZSBXaWR0aCAyID0gMC4wOyAvKiBjYW5jZWwgYW55IHByZXZpb3VzIG1ha2V1cCBwdWxzZSAqLwoJfQp9Cg==]]>
        </Code>
       </Component>
      </List>
      <Organisation>
       <Component Name="Base">
        <Component Name="Lambda"/>
        <Component Name="Aim"/>
        <Component Name="Pulse">
         <Component Name="Request"/>
         <Component Name="Trim">
          <Component Name="Value"/>
         </Component>
        </Component>
        <Component Name="Injector">
         <Component Name="Linearisation">
          <Component Name="Value"/>
          <Component Name="Init"/>
          <Component Name="Update"/>
         </Component>
         <Component Name="Flow"/>
         <Component Name="Minimum Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Flow">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reference Pressure">
          <Component Name="Value"/>
         </Component>
         <Component Name="Differential Pressure"/>
         <Component Name="Battery Voltage"/>
        </Component>
        <Component Name="Output">
         <Component Name="Diagnostic"/>
         <Component Name="Pulse Index"/>
         <Component Name="Cycle Count"/>
         <Component Name="Cycle Volume"/>
         <Component Name="Delivered"/>
         <Component Name="Pulse Edge"/>
         <Component Name="Polarity">
          <Component Name="Value"/>
         </Component>
         <Component Name="Enable"/>
         <Component Name="Top Dead Centre"/>
         <Component Name="Pulse Width 1">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 2">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 3">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Width 4">
          <Component Name="Value"/>
         </Component>
         <Component Name="Pulse Volume">
          <Component Name="Value"/>
         </Component>
         <Component Name="Injector Delay"/>
         <Component Name="Off Time"/>
         <Component Name="Pulse Angle 1"/>
         <Component Name="Pulse Angle 2"/>
         <Component Name="Pulse Angle 3"/>
         <Component Name="Pulse Angle 4"/>
         <Component Name="Limit Angle"/>
         <Component Name="Resource">
          <Component Name="Value"/>
         </Component>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="SetPulse"/>
         <Component Name="GetCycle"/>
         <Component Name="GetStatus"/>
        </Component>
        <Component Name="Pin">
         <Component Name="Diagnostic"/>
         <Component Name="Drive"/>
         <Component Name="Peak Current"/>
         <Component Name="Hold Current"/>
         <Component Name="Resource"/>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="Voltage">
         <Component Name="Absolute Filtered"/>
         <Component Name="Absolute"/>
         <Component Name="Filter">
          <Component Name="Value"/>
         </Component>
         <Component Name="Resource"/>
         <Component Name="Reserve"/>
         <Component Name="Release"/>
         <Component Name="Initialise"/>
         <Component Name="Update"/>
        </Component>
        <Component Name="VolumeCalculation"/>
        <Component Name="Calculation"/>
       </Component>
      </Organisation>
     </ComponentStream>
    </Module>
   </List>
   <Organisation>
    <ModuleGroup Name="Fuel">
     <Module Name="Transient Fuel"/>
     <Module Name="Dual Closed Loop Fuel"/>
     <Module Name="Single Closed Loop Fuel"/>
     <Module Name="Single Port Injector"/>
     <Module Name="Single Direct Injector"/>
     <Module Name="Multipulse Direct Injector"/>
     <Module Name="Direct plus Port Injector"/>
     <Module Name="Dual Port Injector"/>
    </ModuleGroup>
    <ModuleGroup Name="Upcoming">
     <ModuleGroup Name="Fuel">
      <Module Name="Single Port Injector with Idle"/>
     </ModuleGroup>
    </ModuleGroup>
    <ModuleGroup Name="Old">
     <ModuleGroup Name="Fuel"/>
    </ModuleGroup>
   </Organisation>
  </ModuleStream>
 </Modules>
</MoTecM1BuildModuleSet>
